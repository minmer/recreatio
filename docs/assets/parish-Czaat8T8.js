import{u as In,r as l,j as e,R as Gi,B as Vi,C as Ji,d as $n,e as En,f as Rn,H as Ra,P as Wa}from"./vendor-CL5v9b84.js";import{a4 as Wn,a5 as Tn,a6 as Kn,a7 as Ta,a8 as qi,A as _s,a9 as Ln,aa as On,ab as An,ac as Bn,ad as Fn,ae as Zn,af as Hn,ag as Un}from"./recreatio-core-Ydb8QFim.js";import{u as _n,a as Gn,D as Xi,p as Yi,b as Qi,P as Vn,c as en,d as Jn}from"./vendor-cogita-ui-mbCyoqV0.js";const Y=t=>t??"next",Qs=t=>`${t.id}|${t.source}|${t.target}|${Y(t.sourceHandle)}`,He=t=>{const c=new Map;return t.forEach(o=>{const h=`${o.source}:${Y(o.sourceHandle)}`;c.set(h,{...o,sourceHandle:Y(o.sourceHandle)})}),Array.from(c.values()).sort((o,h)=>Qs(o).localeCompare(Qs(h)))},_e={filter:"#2563EB",mass:"#F59E0B",intention:"#7C3AED",save:"#16A34A",stop:"#6B7280",error:"#DC2626"},qn=16,me=0,sn=12,ts=["desktop","tablet","mobile"],je={desktop:6,tablet:4,mobile:2},Xn=[2,3,4,6],K=(t,c)=>{const o=Xn.filter(h=>h<=c);return o.length===0?c:o.reduce((h,x)=>Math.abs(x-t)<Math.abs(h-t)?x:h)},W=t=>t<=2?1:t<=4?3:5,Yn=(t,c)=>K(t==="one-third"?2:t==="one-half"?3:t==="two-thirds"?4:6,c),Qn=t=>t==="one"?1:t==="three"?3:5,Gs=2,Vs=1,an=5,is=[{type:"intentions",label:"Intencje",width:"one-half",height:"three"},{type:"sticky",label:"Sticky",width:"one-third",height:"one"},{type:"hours",label:"Godziny",width:"one-third",height:"one"},{type:"news",label:"News",width:"one-half",height:"three"},{type:"announcements",label:"OgÅ‚oszenia",width:"one-third",height:"three"},{type:"calendar",label:"Kalendarz",width:"two-thirds",height:"five"},{type:"masses",label:"Msze",width:"two-thirds",height:"one"},{type:"groups",label:"Grupy",width:"one-half",height:"three"},{type:"events",label:"Wydarzenia",width:"one-half",height:"three"},{type:"sacraments",label:"Sakramenty",width:"one-half",height:"three"},{type:"contact",label:"Kontakt",width:"one-third",height:"one"},{type:"gallery",label:"Galeria",width:"two-thirds",height:"three"}],on=[{type:"Weekday",label:"Dzien tygodnia",description:"Warunek przejscia tylko dla wybranych dni tygodnia.",input:"Data dnia",output:"true -> next, false -> else",config:{days:"monday,tuesday,wednesday,thursday,friday,saturday,sunday"},fields:[{key:"days",label:"Dni",placeholder:"monday,tuesday,...",hint:"Lista po przecinku."}]},{type:"NthWeekdayOfMonth",label:"N-ty dzien miesiaca",description:"Sprawdza np. pierwsza niedziele miesiaca.",input:"Data dnia",output:"true -> next, false -> else",config:{weekday:"Sunday",occurrences:"1,2,3,4"},fields:[{key:"weekday",label:"Dzien tygodnia",placeholder:"Sunday"},{key:"occurrences",label:"Wystapienia",placeholder:"1,2,3,4",hint:"Numery wystapien w miesiacu."}]},{type:"LiturgicalSeason",label:"Okres liturgiczny",description:"Warunek dla okresu: ordinary, advent, lent, easter, christmas.",input:"Data dnia",output:"true -> next, false -> else",config:{season:"ordinary"},fields:[{key:"season",label:"Sezon",placeholder:"ordinary"}]},{type:"Holiday",label:"Swieto",description:"Warunek daty swieta obliczanego (np. christmas, easter).",input:"Data dnia",output:"true -> next, false -> else",config:{key:"christmas"},fields:[{key:"key",label:"Klucz swieta",placeholder:"christmas"}]},{type:"DaysAfterHoliday",label:"Dni po swiecie",description:"Warunek zakresu dni od wskazanego swieta.",input:"Data dnia",output:"true -> next, false -> else",config:{key:"easter",min:"1",max:"7"},fields:[{key:"key",label:"Swieto bazowe",placeholder:"easter"},{key:"min",label:"Od dnia",placeholder:"1"},{key:"max",label:"Do dnia",placeholder:"7"}]},{type:"If",label:"If",description:"Uniwersalny warunek porownania lewa-operator-prawa.",input:"left, operator, right",output:"true -> next, false -> else",config:{left:"$weekday",operator:"eq",right:"sunday"},fields:[{key:"left",label:"Lewa strona",placeholder:"$weekday"},{key:"operator",label:"Operator",placeholder:"eq | neq | contains"},{key:"right",label:"Prawa strona",placeholder:"sunday"}]},{type:"MassTemplate",label:"Szablon mszy",description:"Ustawia parametry mszy: godzina, miejsce, nazwa, rodzaj i informacje.",input:"Biezacy szkic mszy",output:"Szkic mszy zaktualizowany",config:{time:"18:00",churchName:"Kosciol glowny",title:"Msza swieta",durationMinutes:"60",kind:"ferialna",isCollective:"false",note:"",beforeService:"",afterService:"",donationSummary:""},fields:[{key:"time",label:"Godzina",placeholder:"18:00"},{key:"churchName",label:"Miejsce",placeholder:"Kosciol glowny"},{key:"title",label:"Nazwa",placeholder:"Msza swieta"},{key:"durationMinutes",label:"Czas (min)",placeholder:"60"},{key:"kind",label:"Rodzaj",placeholder:"ferialna"},{key:"isCollective",label:"Msza zbiorowa",placeholder:"true/false"},{key:"note",label:"Informacja",placeholder:"Opis dodatkowy"},{key:"beforeService",label:"Przed msza",placeholder:"Rozaniec 17:30"},{key:"afterService",label:"Po mszy",placeholder:"Nowenna"},{key:"donationSummary",label:"Ofiara (suma)",placeholder:"150 PLN"}]},{type:"AddIntention",label:"Dodaj intencje",description:"Dopisuje intencje do aktualnie budowanej mszy.",input:"tekst intencji i opcjonalna ofiara",output:"Lista intencji rozszerzona",config:{text:"Intencja parafialna",donation:"50 PLN"},fields:[{key:"text",label:"Tresc intencji",placeholder:"Za parafian"},{key:"donation",label:"Ofiara",placeholder:"50 PLN"}]},{type:"Emit",label:"Zapisz msze",description:"Tworzy wpis mszy dla danego dnia na podstawie obecnego szkicu.",input:"Szkic mszy",output:"Nowa msza w wyniku",config:{},fields:[]},{type:"Stop",label:"Stop",description:"Konczy przetwarzanie grafu dla danego dnia.",input:"Brak",output:"Brak",config:{},fields:[]}],Ue=Object.fromEntries(on.map(t=>[t.type,t])),Js=on.map(t=>({type:t.type,label:t.label,config:t.config})),Ba=t=>t==="MassTemplate"?"mass":t==="AddIntention"?"intention":t==="Emit"?"save":t==="Stop"?"stop":"filter",cn=t=>_e[Ba(t)],Fa=t=>t==="If"||t==="Weekday"||t==="NthWeekdayOfMonth"||t==="LiturgicalSeason"||t==="Holiday"||t==="DaysAfterHoliday",dn=t=>(t??"").split(`
`).map(c=>c.trim()).filter(c=>c.length>0),qs=[{id:"node-1",type:"Weekday",nextId:"node-2",elseId:"node-9",config:{days:"monday,tuesday,wednesday,thursday,friday,saturday,sunday"}},{id:"node-2",type:"MassTemplate",nextId:"node-3",elseId:null,config:{time:"18:00",churchName:"KoÅ›ciÃ³Å‚ gÅ‚Ã³wny",title:"Msza Å›wiÄ™ta",durationMinutes:"60",kind:"ferialna",isCollective:"false"}},{id:"node-3",type:"AddIntention",nextId:"node-4",elseId:null,config:{text:"Intencja parafialna",donation:"50 PLN"}},{id:"node-4",type:"Emit",nextId:"node-9",elseId:null,config:{}},{id:"node-9",type:"Stop",nextId:null,elseId:null,config:{}}],et=t=>{const c=Ba(t);return c==="filter"?{input:"DataDnia",output:"Boolean"}:c==="mass"?{input:"SzkicMszy",output:"SzkicMszy"}:c==="intention"?{input:"SzkicMszy",output:"Intencje[]"}:c==="save"?{input:"SzkicMszy",output:"MassRow"}:{input:"Any",output:"Stop"}},st=(t,c=0)=>{const o=t&&Number.isFinite(Number(t._x))?Number(t._x):80+c%3*260,h=t&&Number.isFinite(Number(t._y))?Number(t._y):60+Math.floor(c/3)*180;return{x:o,y:h}},at=({data:t})=>{var $,d,M,U,ie;const c=Fa(t.type),o=Ue[t.type],h=cn(t.type),x=et(t.type),N=((($=t.config)==null?void 0:$.time)??"").trim(),g=(((d=t.config)==null?void 0:d.churchName)??"").trim(),w=(((M=t.config)==null?void 0:M.kind)??"").trim(),D=t.type==="MassTemplate"&&!N,b=t.type==="AddIntention"?dn((U=t.config)==null?void 0:U.text):[],P=(((ie=t.config)==null?void 0:ie.donation)??"").trim(),z=t.type==="MassTemplate"&&t.requireIntentions&&b.length===0,S=t.type==="Emit"&&(t.emitConflicts??0)>0;return e.jsxs("div",{className:`mass-rule-node ${D||S?"has-error":""}`,style:{"--mass-node-color":h},children:[e.jsx("div",{className:"mass-rule-node-top"}),e.jsx(Ra,{type:"target",position:Wa.Left,style:{background:h}}),e.jsxs("span",{className:"mass-port-label mass-port-label-in",children:["IN Â· ",x.input]}),e.jsx("strong",{children:(o==null?void 0:o.label)??t.type}),e.jsx("span",{className:"muted",children:(o==null?void 0:o.description)??t.label}),e.jsxs("div",{className:"mass-rule-node-io",children:[e.jsxs("span",{children:["IN: ",(o==null?void 0:o.input)??"dane dnia"]}),e.jsxs("span",{children:["OUT: ",(o==null?void 0:o.output)??"next"]})]}),t.type==="MassTemplate"?e.jsxs("div",{className:"mass-node-chips",children:[e.jsx("span",{className:`mass-chip ${D?"is-error":"is-mass"}`,children:D?"â° brak":`â° ${N}`}),g?e.jsxs("span",{className:"mass-chip is-outline",children:["ðŸ“ ",g]}):null,w?e.jsxs("span",{className:"mass-chip is-outline",children:["ðŸ•¯ï¸ ",w]}):null,z?e.jsx("span",{className:"mass-chip is-intention",children:"âœ brak intencji"}):null]}):null,t.type==="AddIntention"?e.jsxs("div",{className:"mass-intention-mini",children:[b.slice(0,2).map((De,v)=>e.jsxs("span",{children:["â€¢ ",De]},`${De}-${v}`)),b.length>2?e.jsxs("span",{children:["+",b.length-2," wiÄ™cej"]}):null,P?e.jsxs("span",{className:"mass-chip is-donation",children:["ðŸ’  ",P]}):null]}):null,S?e.jsx("div",{className:"mass-node-alert",children:"âš  Wykryto kolizje terminÃ³w"}):null,e.jsx(Ra,{id:"next",type:"source",position:Wa.Right,style:{background:c?_e.save:h}}),e.jsxs("span",{className:"mass-port-label mass-port-label-next",children:[c?"TRUE":"OUT"," Â· ",x.output]}),c?e.jsxs(e.Fragment,{children:[e.jsx(Ra,{id:"else",type:"source",position:Wa.Bottom,style:{background:_e.stop}}),e.jsx("span",{className:"mass-port-label mass-port-label-else",children:"FALSE Â· Stop"})]}):null]})},nn={massRuleNode:at},Ka=t=>t.map((c,o)=>({id:c.id,type:"massRuleNode",position:st(c.config,o),data:{label:c.id,type:c.type,config:{...c.config??{}}}})),La=t=>{const c=[];return t.forEach(o=>{o.nextId&&c.push({id:`${o.id}:next:${o.nextId}`,source:o.id,target:o.nextId,sourceHandle:"next"}),o.elseId&&c.push({id:`${o.id}:else:${o.elseId}`,source:o.id,target:o.elseId,sourceHandle:"else"})}),c.sort((o,h)=>Qs(o).localeCompare(Qs(h)))},it=(t,c)=>{const o=new Map(c.map(h=>[h.id,h]));return t.map(h=>{const x=o.get(h.source),N=x?Fa(x.data.type):!1,g=Y(h.sourceHandle),w=N&&g==="next",D=N&&g==="else",b=w?_e.save:D?_e.stop:x?cn(x.data.type):_e.filter;return{...h,style:{stroke:b,strokeWidth:w?2.2:D?1.2:1.8},label:w?"TRUE":D?"FALSE":void 0,labelStyle:{fill:b,fontWeight:700,fontSize:11}}})},tn=(t,c,o)=>{const h=new Map(t.map(b=>[b.id,b])),x=new Map;c.forEach(b=>{const P=b.source,z=b.target,S=x.get(P)??[];S.push(z),x.set(P,S)});const N=new Map,g=[];for(h.has(o)?(N.set(o,0),g.push(o)):t.forEach(b=>{N.set(b.id,0),g.push(b.id)});g.length>0;){const b=g.shift();if(!b)break;const P=N.get(b)??0;(x.get(b)??[]).forEach(S=>{const $=N.get(S),d=P+1;($===void 0||d>$)&&(N.set(S,d),g.push(S))})}const w=new Map;return[...t].sort((b,P)=>{const z=N.get(b.id)??0,S=N.get(P.id)??0;return z!==S?z-S:b.id.localeCompare(P.id)}).map(b=>{const P=N.get(b.id)??0,z=w.get(P)??0;w.set(P,z+1);const S=80+P*280,$=70+z*180;return{...b,position:{x:S,y:$},data:{...b.data,config:{...b.data.config??{},_x:String(S),_y:String($)}}}})},nt=(t,c)=>[...t].sort((h,x)=>h.id.localeCompare(x.id)).map(h=>{const x=c.find(g=>g.source===h.id&&Y(g.sourceHandle)==="next"),N=c.find(g=>g.source===h.id&&Y(g.sourceHandle)==="else");return{id:h.id,type:h.data.type,nextId:(x==null?void 0:x.target)??null,elseId:(N==null?void 0:N.target)??null,config:{...h.data.config??{},_x:String(Math.round(h.position.x)),_y:String(Math.round(h.position.y))}}}),tt=t=>t>=6?"desktop":t>=4?"tablet":"mobile",H=(t,c)=>t.layouts&&t.layouts[c]?t.layouts[c]:t.position&&t.size?{position:t.position,size:t.size}:(t.layouts?Object.values(t.layouts)[0]:void 0)??{position:{row:1,col:1},size:{colSpan:2,rowSpan:1}},Za=t=>{const c=t.layouts?{...t.layouts}:{},o=H(t,"desktop");return ts.forEach(h=>{c[h]||(c[h]=o)}),{...t,layouts:c,position:o.position,size:o.size}},lt=(t,c)=>{const o=new Map,h=[];return t.forEach(x=>{let N=Math.max(1,x.position.row),g=Math.max(1,Math.min(x.position.col,c));const w=K(x.size.colSpan,c),D=W(x.size.rowSpan);let b=!1,P=N,z=g;for(;!b;){z+w-1>c&&(z=1,P+=1);let S=!1;for(let $=P;$<P+D;$+=1)for(let d=z;d<z+w;d+=1)o.get(`${$}:${d}`)&&(S=!0);if(S)z+=1;else{for(let $=P;$<P+D;$+=1)for(let d=z;d<z+w;d+=1)o.set(`${$}:${d}`,!0);h.push({...x,position:{row:P,col:z},size:{colSpan:w,rowSpan:D}}),b=!0}}}),h},hn=(t,c,o)=>{const h=t.map(g=>{const w=H(g,c);return{id:g.id,position:{row:Math.max(1,w.position.row),col:Math.max(1,Math.min(w.position.col,o))},size:{colSpan:K(w.size.colSpan,o),rowSpan:W(w.size.rowSpan)}}}),x=lt(h,o),N=new Map(x.map(g=>[g.id,g]));return t.map(g=>{const w=N.get(g.id),D={...Za(g).layouts};return D[c]={position:w.position,size:w.size},{...g,layouts:D,position:D.desktop.position,size:D.desktop.size}})},ns=t=>{let c=t.map(Za);return ts.forEach(o=>{const h=je[o];c=hn(c,o,h)}),c},Oa={modules:ns(is.slice(0,4).map(t=>{const c=ts.reduce((o,h)=>{const x=je[h];return o[h]={position:{row:1,col:1},size:{colSpan:Yn(t.width,x),rowSpan:W(Qn(t.height))}},o},{});return{id:`seed-${t.type}`,type:t.type,layouts:c,position:c.desktop.position,size:c.desktop.size,props:{title:t.label}}}))},rt=[{label:"Start",id:"start"},{label:"Parafia",children:[{id:"about",label:"O parafii"},{id:"clergy",label:"Duszpasterze"},{id:"office",label:"Kancelaria"}]},{label:"Aktualne",children:[{id:"announcements",label:"OgÅ‚oszenia"},{id:"intentions",label:"Intencje"},{id:"masses",label:"Msze i naboÅ¼eÅ„stwa"},{id:"calendar",label:"Kalendarz"},{id:"koleda",label:"KolÄ™da"}]},{label:"Sakramenty",children:[{id:"sacrament-baptism",label:"Chrzest"},{id:"sacrament-communion",label:"I Komunia"},{id:"sacrament-confirmation",label:"Bierzmowanie"},{id:"sacrament-marriage",label:"MaÅ‚Å¼eÅ„stwo"},{id:"sacrament-funeral",label:"Pogrzeb"},{id:"sacrament-sick",label:"Chorzy"}]},{label:"WspÃ³lnoty",children:[{id:"community-bible",label:"KrÄ…g biblijny"},{id:"community-formation",label:"Diakonia formacji"}]},{label:"Kontakt",id:"contact"}],Xs=[{id:"ann-1",title:"Niedziela MiÅ‚osierdzia",date:"12 kwietnia 2025",excerpt:"Zapraszamy na KoronkÄ™ do MiÅ‚osierdzia BoÅ¼ego o 15:00.",content:"Zapraszamy parafian i goÅ›ci do wspÃ³lnej modlitwy. Koronka o 15:00 w koÅ›ciele gÅ‚Ã³wnym, po niej krÃ³tka adoracja. PrzynieÅ›cie ze sobÄ… intencje wdziÄ™cznoÅ›ci."},{id:"ann-2",title:"Rekolekcje wielkopostne",date:"9 kwietnia 2025",excerpt:"Konferencje w piÄ…tek, sobotÄ™ i niedzielÄ™.",content:"Rekolekcje poprowadzi ks. Adam Kowalski. SzczegÃ³Å‚y w gablocie i na stronie. SpowiedÅº dodatkowa w sobotÄ™ od 16:00."},{id:"ann-3",title:"Wsparcie dla Caritas",date:"6 kwietnia 2025",excerpt:"ZbiÃ³rka Å¼ywnoÅ›ci w kruchcie koÅ›cioÅ‚a.",content:"W najbliÅ¼szÄ… niedzielÄ™ prowadzimy zbiÃ³rkÄ™ Å¼ywnoÅ›ci dÅ‚ugoterminowej. Dary moÅ¼na skÅ‚adaÄ‡ w wyznaczonych koszach od 7:00 do 13:00."}],ot=[{day:"PoniedziaÅ‚ek â€¢ 11 marca",items:[{time:"7:00",text:"Za + JaninÄ™ i StanisÅ‚awa Nowak",location:"KoÅ›ciÃ³Å‚",priest:"ks. Marek"},{time:"18:00",text:"O zdrowie dla Katarzyny i Åukasza",location:"KoÅ›ciÃ³Å‚",priest:"ks. Adam"}]},{day:"Wtorek â€¢ 12 marca",items:[{time:"7:00",text:"DziÄ™kczynna za rodzinÄ™ Malinowskich",location:"Kaplica",priest:"ks. Marek"},{time:"18:00",text:"Za + HelenÄ™ i JÃ³zefa",location:"KoÅ›ciÃ³Å‚",priest:"ks. PaweÅ‚"}]},{day:"Åšroda â€¢ 13 marca",items:[{time:"7:00",text:"O pokÃ³j w rodzinie",location:"KoÅ›ciÃ³Å‚",priest:"ks. Adam"},{time:"18:00",text:"Za + AlicjÄ™ i Piotra",location:"KoÅ›ciÃ³Å‚",priest:"ks. Marek"}]}],ct={Sunday:[{time:"7:00",place:"KoÅ›ciÃ³Å‚ gÅ‚Ã³wny",note:"Cicha"},{time:"9:00",place:"KoÅ›ciÃ³Å‚ gÅ‚Ã³wny",note:"Rodzinna"},{time:"11:00",place:"KoÅ›ciÃ³Å‚ gÅ‚Ã³wny",note:"Suma"},{time:"18:00",place:"KoÅ›ciÃ³Å‚ gÅ‚Ã³wny",note:"MÅ‚odzieÅ¼owa"}],Weekdays:[{time:"7:00",place:"Kaplica",note:"Ponâ€“Pt"},{time:"18:00",place:"KoÅ›ciÃ³Å‚ gÅ‚Ã³wny",note:"Ponâ€“Sb"}],Devotions:[{time:"Åšr. 19:00",place:"KoÅ›ciÃ³Å‚",note:"Nowenna"},{time:"Pt. 17:15",place:"KoÅ›ciÃ³Å‚",note:"Droga KrzyÅ¼owa"}],Confession:[{time:"Wt.â€“Sb. 17:15",place:"KonfesjonaÅ‚y",note:"StaÅ‚a"},{time:"Nd. 8:30",place:"KonfesjonaÅ‚y",note:"Przed MszÄ…"}]},dt=[{date:"19 marca (Å›r.)",detail:"Msza o 18:00 przeniesiona do kaplicy"},{date:"25 marca (wt.)",detail:"Dodatkowa Msza o 20:00 (rekolekcje)"},{date:"31 marca (pon.)",detail:"Brak Mszy o 7:00 â€” zastÄ™pstwo"}],as=[{id:"evt-1",title:"Katecheza dla narzeczonych",date:"16 marca 2025",time:"19:00",place:"Sala Jana PawÅ‚a II",priest:"ks. Adam",category:"Formacja",recurring:!0,description:"Spotkanie przygotowujÄ…ce do sakramentu maÅ‚Å¼eÅ„stwa."},{id:"evt-2",title:"ChÃ³r parafialny",date:"14 marca 2025",time:"18:30",place:"Sala muzyczna",priest:"ks. Marek",category:"Muzyka",recurring:!0,description:"PrÃ³ba chÃ³ru przed uroczystoÅ›ciÄ… parafialnÄ…."},{id:"evt-3",title:"Spotkanie seniorÃ³w",date:"15 marca 2025",time:"10:00",place:"Sala parafialna",priest:"ks. PaweÅ‚",category:"WspÃ³lnota",recurring:!1,description:"Rozmowa i herbata dla seniorÃ³w, tematyka: wspomnienia z pielgrzymek."}],ht=()=>{const t=new Date,c=new Date(t);c.setMinutes(0,0,0);const o=(h,x,N,g,w)=>{const D=new Date(c);return D.setHours(c.getHours()+h),{id:`${N}-${h}-${x}`,start:D,title:x,kind:N,place:g,group:w}};return[o(1,"Msza poranna","mass","KoÅ›ciÃ³Å‚ gÅ‚Ã³wny"),o(2,"RÃ³Å¼aniec","celebration","Kaplica"),o(4,"Spotkanie ministrantÃ³w","group","Sala Å›w. JÃ³zefa","Ministranci"),o(6,"Msza wieczorna","mass","KoÅ›ciÃ³Å‚ gÅ‚Ã³wny"),o(10,"Schola dzieciÄ™ca","group","Sala muzyczna","Schola"),o(14,"Nowenna","celebration","KoÅ›ciÃ³Å‚ gÅ‚Ã³wny"),o(18,"Msza wspÃ³lnotowa","mass","KoÅ›ciÃ³Å‚ dolny"),o(24,"Spotkanie seniorÃ³w","group","Sala Jana PawÅ‚a II","Seniorzy"),o(26,"NaboÅ¼eÅ„stwo","celebration","Kaplica"),o(30,"Msza poranna","mass","KoÅ›ciÃ³Å‚ gÅ‚Ã³wny"),o(34,"Spotkanie mÅ‚odych","group","Kawiarenka","MÅ‚odzi")]},Ys=[{id:"pr-1",name:"ks. Adam Kowalski",role:"Proboszcz",img:"/parish/minister.jpg",bio:"Duszpasterz rodzin, prowadzi katechezy dla narzeczonych.",contact:"Pon.â€“Pt. 10:00â€“12:00"},{id:"pr-2",name:"ks. Marek Nowak",role:"Wikariusz",img:"/parish/visit.jpg",bio:"Opiekun ministrantÃ³w i chÃ³ru.",contact:"Wt., Czw. 16:00â€“18:00"},{id:"pr-3",name:"ks. PaweÅ‚ ZieliÅ„ski",role:"Rezydent",img:"/parish/pursuit_saint.jpg",bio:"Duszpasterz chorych i seniorÃ³w.",contact:"Pon. 12:00â€“14:00"}],Aa=[{id:"baptism",title:"Chrzest",img:"/parish/baptism.jpg",steps:["ZgÅ‚oszenie w kancelarii","Katecheza rodzicÃ³w","Ustalenie terminu","Liturgia chrztu"],docs:["Akt urodzenia dziecka","Dane rodzicÃ³w chrzestnych","Zgoda parafii chrzestnych"]},{id:"communion",title:"Pierwsza Komunia",img:"/parish/communion.jpg",steps:["Spotkania formacyjne","SpowiedÅº dzieci","PrÃ³by liturgiczne","Uroczysta Msza"],docs:["Metryka chrztu","Zgoda szkoÅ‚y","Karta zgÅ‚oszeniowa"]},{id:"confirmation",title:"Bierzmowanie",img:"/parish/confirmation.jpg",steps:["ZgÅ‚oszenie","Przygotowanie roczne","PrÃ³ba generalna","Sakrament"],docs:["Metryka chrztu","Åšwiadectwo religii","Zgoda rodzicÃ³w"]},{id:"marriage",title:"MaÅ‚Å¼eÅ„stwo",img:"/parish/visit.jpg",steps:["Rozmowa w kancelarii","Kurs przedmaÅ‚Å¼eÅ„ski","Spisanie protokoÅ‚u","Åšlub"],docs:["Akt chrztu","Dowody osobiste","ZaÅ›wiadczenie z USC"]},{id:"funeral",title:"Pogrzeb",img:"/parish/obit.jpg",steps:["Kontakt z kancelariÄ…","Ustalenie daty","Modlitwa rÃ³Å¼aÅ„cowa","Msza pogrzebowa"],docs:["Akt zgonu","Dokumenty z USC","Dane osoby zmarÅ‚ej"]},{id:"sick",title:"Namaszczenie chorych",img:"/parish/unction.jpg",steps:["Telefon do kancelarii","Ustalenie wizyty","Przygotowanie domu","Sakrament"],docs:["Dane chorego","Kontakt do rodziny","Informacja o stanie zdrowia"]}],pt={baptism:"Wprowadzenie dziecka do wspÃ³lnoty KoÅ›cioÅ‚a wraz z bÅ‚ogosÅ‚awieÅ„stwem rodziny.",communion:"Uroczyste spotkanie dzieci z EucharystiÄ…, przygotowanie trwa caÅ‚y rok formacyjny.",confirmation:"Sakrament dojrzaÅ‚oÅ›ci chrzeÅ›cijaÅ„skiej, przyjmowany w parafii wiosnÄ….",marriage:"Towarzyszymy narzeczonym od pierwszej rozmowy aÅ¼ po dzieÅ„ Å›lubu.",funeral:"Pomagamy rodzinie w modlitwie i przygotowaniu liturgii pogrzebowej.",sick:"Odwiedzamy chorych w domach i szpitalach, z posÅ‚ugÄ… sakramentalnÄ…."},ln={"sacrament-baptism":"baptism","sacrament-communion":"communion","sacrament-confirmation":"confirmation","sacrament-marriage":"marriage","sacrament-funeral":"funeral","sacrament-sick":"sick",start:"",about:"",clergy:"",office:"",announcements:"",intentions:"",masses:"",calendar:"",koleda:"","community-bible":"","community-formation":"",contact:""},ut={"community-bible":{title:"KrÄ…g biblijny",image:"/parish/bible_circle.jpg",lead:"Spotkania z Pismem ÅšwiÄ™tym, dzielenie siÄ™ i wspÃ³lna modlitwa.",cadence:"Co dwa tygodnie, Å›roda 19:00",location:"Biblioteka parafialna",leader:"ks. PaweÅ‚ ZieliÅ„ski",roles:["prowadzÄ…cy","uczestnik"],plan:["Modlitwa wstÄ™pna","Lectio divina","Dzielenie w grupach","ZakoÅ„czenie"]},"community-formation":{title:"Diakonia formacji",image:"/parish/choir.jpg",lead:"ZespÃ³Å‚ odpowiedzialny za formacjÄ™ wspÃ³lnot i przygotowanie spotkaÅ„.",cadence:"Co tydzieÅ„, wtorek 18:30",location:"Sala Jana PawÅ‚a II",leader:"Anna Nowak",roles:["koordynator","mentor","wolontariusz"],plan:["Przygotowanie materiaÅ‚Ã³w","Konsultacje z duszpasterzem","Warsztaty","Podsumowanie"]}},mt=[{date:"7 stycznia",window:"16:00â€“20:00",area:"Os. Zielone 12â€“24",priest:"ks. Marek"},{date:"8 stycznia",window:"16:00â€“20:00",area:"ul. Dobrego Pasterza 1â€“15",priest:"ks. Adam"},{date:"9 stycznia",window:"16:00â€“20:00",area:"Os. Cegielniana 5â€“18",priest:"ks. PaweÅ‚"}],jt=[{area:"Os. Zielone",streets:"Bloki 1â€“30",date:"7â€“10 stycznia",priest:"ks. Marek"},{area:"ul. Dobrego Pasterza",streets:"1â€“45",date:"8â€“12 stycznia",priest:"ks. Adam"},{area:"Os. Cegielniana",streets:"1â€“22",date:"9â€“11 stycznia",priest:"ks. PaweÅ‚"}],Me=[{id:"sticky-1",title:"Misje parafialne",summary:"Spotkania z rekolekcjonistami od poniedziaÅ‚ku do soboty.",image:"/parish/minister.jpg",date:"4â€“10 marca",category:"Aktualne",href:"/#/parish/aktualnosci/misje"},{id:"sticky-2",title:"WieczÃ³r uwielbienia",summary:"WspÃ³lna modlitwa i muzyka w koÅ›ciele dolnym.",image:"/parish/visit.jpg",date:"14 marca, 19:00",category:"Wydarzenia",href:"/#/parish/wydarzenia/uwielbienie"},{id:"sticky-3",title:"Spotkanie mÅ‚odych",summary:"Zapisy na wyjazd do Lednicy oraz dyÅ¼ury w marcu.",image:"/parish/pursuit_saint.jpg",date:"Sobota, 17:30",category:"WspÃ³lnoty",href:"/#/parish/wspolnoty/mlodzi"}],xt=[{time:"7:00",text:"Za + JaninÄ™ i StanisÅ‚awa Nowak",location:"KoÅ›ciÃ³Å‚ gÅ‚Ã³wny"},{time:"12:00",text:"DziÄ™kczynna za rodzinÄ™ Malinowskich",location:"Kaplica"},{time:"18:00",text:"O zdrowie dla Katarzyny i Åukasza",location:"KoÅ›ciÃ³Å‚ gÅ‚Ã³wny"}],yt=[{label:"PoniedziaÅ‚ek",items:[{time:"7:00",text:"Za + AnnÄ™ i Tadeusza",location:"KoÅ›ciÃ³Å‚"},{time:"18:00",text:"O pokÃ³j w rodzinie",location:"KoÅ›ciÃ³Å‚"}]},{label:"Åšroda",items:[{time:"7:00",text:"Za + HelenÄ™ i JÃ³zefa",location:"Kaplica"},{time:"18:00",text:"W intencji mÅ‚odzieÅ¼y",location:"KoÅ›ciÃ³Å‚"}]},{label:"PiÄ…tek",items:[{time:"7:00",text:"Za + AlicjÄ™ i Piotra",location:"KoÅ›ciÃ³Å‚"},{time:"18:00",text:"O zdrowie dla chorych",location:"KoÅ›ciÃ³Å‚"}]}],rn=[{name:"Jan Kowalski",date:"10 marca",note:"Wypominki roczne"},{name:"Maria Nowak",date:"12 marca",note:"MiesiÄ…c po pogrzebie"},{name:"StanisÅ‚aw ZieliÅ„ski",date:"14 marca",note:"Rocznica"}],gt=[{day:"PoniedziaÅ‚ek",hours:"9:00â€“11:00, 16:00â€“18:00"},{day:"Wtorek",hours:"9:00â€“11:00, 16:00â€“18:00"},{day:"Åšroda",hours:"9:00â€“11:00"},{day:"Czwartek",hours:"9:00â€“11:00, 16:00â€“18:00"},{day:"PiÄ…tek",hours:"9:00â€“11:00, 16:00â€“18:00"}],wt=[{label:"Rok zaÅ‚oÅ¼enia",value:"1984"},{label:"WspÃ³lnoty",value:"12"},{label:"Msze tygodniowo",value:"18"},{label:"Wolontariusze",value:"45"}],bt=({layout:t,columns:c})=>{const o=K(t.size.colSpan,c),h=W(t.size.rowSpan),x=h>1,N=x&&o>=6&&h>=5,[g,w]=l.useState(0),[D,b]=l.useState(!0),[P,z]=l.useState(!1),S=l.useRef(null),$=Me.length-1,d=Me.slice(0,3);l.useEffect(()=>{if(!x||Me.length<=1||!D||P||typeof window>"u")return;const v=window.setInterval(()=>{w(O=>O+1>$?0:O+1)},6500);return()=>window.clearInterval(v)},[x,$,D,P]);const M=()=>w(v=>v+1>$?0:v+1),U=()=>w(v=>v-1<0?$:v-1),ie=v=>{S.current=v.clientX},De=v=>{if(S.current===null)return;const O=v.clientX-S.current;S.current=null,!(Math.abs(O)<40)&&(b(!1),O>0?U():M())};return x?e.jsxs("div",{className:`sticky-module ${N?"has-side":"solo"}`,children:[e.jsx("div",{className:"sticky-carousel",onPointerDown:ie,onPointerUp:De,children:e.jsxs("div",{className:"carousel sticky-carousel-inner",children:[Me.map((v,O)=>e.jsxs("a",{className:`carousel-slide ${O===g?"is-active":""}`,href:v.href,children:[e.jsx("img",{src:v.image,alt:v.title}),e.jsxs("div",{className:"carousel-caption",children:[e.jsx("h4",{children:v.title}),e.jsx("p",{className:"muted",children:v.summary}),e.jsx("span",{className:"muted",children:v.date})]})]},v.id)),Me.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"carousel-arrow left","aria-label":"Poprzedni slajd",onClick:()=>{b(!1),U()},children:e.jsx("span",{})}),e.jsx("button",{type:"button",className:"carousel-arrow right","aria-label":"NastÄ™pny slajd",onClick:()=>{b(!1),M()},children:e.jsx("span",{})}),e.jsx("div",{className:"carousel-dots",children:Me.map((v,O)=>e.jsx("button",{type:"button",className:O===g?"is-active":"","aria-label":`PrzejdÅº do slajdu ${O+1}`,onClick:()=>{b(!1),w(O)}},v.id))})]})]})}),N&&e.jsx("aside",{className:"sticky-side",onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:e.jsx("ul",{children:Me.map((v,O)=>e.jsx("li",{className:O===g?"is-active":"",onMouseEnter:()=>w(O),children:e.jsxs("a",{href:v.href,children:[e.jsx("span",{children:v.title}),e.jsx("span",{className:"muted",children:v.date})]})},v.id))})})]}):e.jsx("div",{className:"sticky-headlines",children:e.jsx("ul",{children:d.map(v=>e.jsx("li",{children:e.jsxs("a",{href:v.href,children:[e.jsx("span",{children:v.title}),e.jsx("span",{className:"muted",children:v.date})]})},v.id))})})},zt=t=>{const c=new Map;return t.forEach(o=>{const h=new Date(o.massDateTime);if(Number.isNaN(h.getTime()))return;const x=h.toISOString().slice(0,10),N=h.toLocaleDateString("pl-PL",{weekday:"long",day:"numeric",month:"long"}),g=h.toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit"}),w=c.get(x)??{label:N,items:[]};w.items.push({time:g,text:o.publicText,location:o.churchName}),c.set(x,w)}),Array.from(c.values())},Nt=t=>{if(!t.length)return{day:{label:"DziÅ›",items:xt},week:yt,obits:rn};const c=zt(t);return{day:c[0]??{label:"DziÅ›",items:[]},week:c.slice(0,3),obits:rn}},ft=({layout:t,columns:c,items:o,parishSlug:h,onOpenIntentions:x})=>{const N=K(t.size.colSpan,c),g=W(t.size.rowSpan),w=l.useMemo(()=>Nt(o),[o]),D=g===1,b=g>=5,P=N>=4,z=b&&N>=6,S=h?`/#/parish/${h}/intentions`:"/#/parish",$=[{label:"Intencje dnia",href:`${S}`},{label:"Intencje tygodnia",href:`${S}`},{label:"Wypominki",href:`${S}`}];return D?e.jsx("div",{className:"intentions-module intentions-compact",children:e.jsx("ul",{className:"intentions-links",children:$.map(d=>e.jsx("li",{children:e.jsx("a",{href:d.href,onClick:M=>{M.preventDefault(),x()},children:d.label})},d.label))})}):e.jsxs("div",{className:`intentions-module ${z?"has-side":""}`,children:[e.jsxs("div",{className:`intentions-board ${P?"is-wide":""}`,children:[e.jsxs("div",{className:"intentions-day",children:[e.jsx("strong",{children:w.day.label}),e.jsx("ul",{children:w.day.items.slice(0,b?4:2).map((d,M)=>e.jsxs("li",{children:[e.jsx("span",{children:d.time}),e.jsx("span",{children:d.text})]},`${d.time}-${M}`))})]}),e.jsxs("div",{className:"intentions-day",children:[e.jsx("strong",{children:"Intencje tygodnia"}),e.jsx("ul",{children:w.week.slice(0,b?3:2).flatMap(d=>d.items.slice(0,1).map((M,U)=>e.jsxs("li",{children:[e.jsx("span",{children:d.label}),e.jsx("span",{children:M.text})]},`${d.label}-${U}`)))})]}),e.jsxs("div",{className:"intentions-day",children:[e.jsx("strong",{children:"Wypominki"}),e.jsx("ul",{children:w.obits.slice(0,b?3:2).map(d=>e.jsxs("li",{children:[e.jsx("span",{children:d.date}),e.jsx("span",{children:d.name})]},d.name))})]})]}),z&&e.jsx("aside",{className:"intentions-side",children:e.jsx("ul",{children:w.week.slice(0,3).flatMap(d=>d.items.slice(0,2).map((M,U)=>e.jsxs("li",{children:[e.jsx("span",{children:M.time}),e.jsx("span",{className:"ellipsis",children:M.text})]},`${d.label}-${U}`)))})})]})},vt=({layout:t,columns:c})=>{const o=K(t.size.colSpan,c),h=W(t.size.rowSpan),x=h===1,N=h>=5,g=o>=4,w=N&&o>=6,D=l.useMemo(()=>ht(),[]),b=new Date,P=D.filter(d=>d.start>=b&&d.start<=new Date(b.getTime()+6*60*60*1e3)),z=P.length?P:D.slice(0,4),S=D.reduce((d,M)=>{const U=M.start.toDateString();return d[U]||(d[U]=[]),d[U].push(M),d},{}),$=Object.entries(S).sort((d,M)=>new Date(d[0]).getTime()-new Date(M[0]).getTime()).map(([d,M])=>({label:new Date(d).toLocaleDateString("pl-PL",{weekday:"long",day:"numeric",month:"long"}),items:M.sort((U,ie)=>U.start.getTime()-ie.start.getTime())}));return x?e.jsx("div",{className:"calendar-module calendar-compact",children:e.jsx("ul",{children:z.slice(0,3).map(d=>e.jsxs("li",{children:[e.jsx("span",{children:d.start.toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit"})}),e.jsx("span",{className:"ellipsis",children:d.title})]},d.id))})}):e.jsxs("div",{className:`calendar-module ${w?"has-side":""}`,children:[e.jsx("div",{className:`calendar-board ${g?"is-wide":""}`,children:$.slice(0,N?3:2).map(d=>e.jsxs("article",{className:"calendar-card",children:[e.jsx("span",{className:"calendar-date",children:d.label}),e.jsx("ul",{children:d.items.slice(0,N?4:3).map(M=>e.jsxs("li",{className:`calendar-item calendar-item-${M.kind}`,children:[e.jsx("span",{children:M.start.toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit"})}),e.jsx("span",{children:M.title}),N&&e.jsx("span",{className:"muted",children:M.place})]},M.id))})]},d.label))}),w&&e.jsx("aside",{className:"calendar-side",children:e.jsx("ul",{children:z.slice(0,6).map(d=>e.jsxs("li",{children:[e.jsx("span",{children:d.start.toLocaleTimeString("pl-PL",{hour:"2-digit",minute:"2-digit"})}),e.jsx("span",{className:"ellipsis",children:d.title})]},d.id))})})]})};function Kt({copy:t,onAuthAction:c,authLabel:o,isAuthenticated:h,secureMode:x,onProfileNavigate:N,onToggleSecureMode:g,onLogout:w,onNavigate:D,language:b,onLanguageChange:P,parishSlug:z}){const S=()=>{if(typeof window<"u"&&window.history.length>1){$(-1);return}D("home")},$=In(),[d,M]=l.useState("start"),[U,ie]=l.useState(!1),[De,v]=l.useState(null),[O,ea]=l.useState([]),[Ha,sa]=l.useState(""),[pn,ls]=l.useState("classic"),[aa,un]=l.useState("Sunday"),[ia,mn]=l.useState(Xs[0].id),[na,Ua]=l.useState("month"),[_a,Ga]=l.useState(as[0].id),[ta,jn]=l.useState(Ys[0].id),[Va,xn]=l.useState(Aa[0].id),[Pe,xe]=l.useState(z?"parish":"chooser"),L=l.useMemo(()=>O.find(s=>s.id===Ha)??O[0]??null,[Ha,O]),[re,Ge]=l.useState(0),[rs,Ja]=l.useState(""),[la,qa]=l.useState(""),[os,ra]=l.useState(""),[yn,Xa]=l.useState(!1),[oa,Ya]=l.useState("classic"),[J,Ve]=l.useState([]),[Qa,ca]=l.useState(null),[gn,cs]=l.useState(null),[da,ei]=l.useState([]),[ds,hs]=l.useState([]),[Je,ha]=l.useState(!1),[Q,ps]=l.useState([]),[si,ai]=l.useState(null),[kt,St]=l.useState(""),[Ct,Mt]=l.useState(""),[Dt,Pt]=l.useState(""),[It,$t]=l.useState(""),[ee,us]=l.useState(""),[ms,Ie]=l.useState("18:00"),[$e,Ee]=l.useState(null),[js,xs]=l.useState(""),[ys,gs]=l.useState(""),[pa,ws]=l.useState(""),[ua,bs]=l.useState(""),[zs,Ns]=l.useState("60"),[ma,fs]=l.useState(""),[ja,vs]=l.useState(""),[xa,ks]=l.useState(""),[ya,qe]=l.useState(""),[ga,Ss]=l.useState(!1),[Re,Cs]=l.useState("single"),[Ms,Ds]=l.useState([]),[se,ye]=l.useState(null),[Ps,Is]=l.useState("Nowa reguÅ‚a"),[wa,$s]=l.useState(""),[he,We]=l.useState("node-1"),[q,ne]=l.useState(Ka(qs)),[oe,ge]=l.useState(La(qs)),[we,ii]=l.useState(""),[be,ni]=l.useState(""),[ba,ti]=l.useState(!1),[Te,li]=l.useState(!1),[ze,Es]=l.useState([]),[Rs,Ne]=l.useState(null),[Ws,ri]=l.useState(""),[Xe,oi]=l.useState("all"),[Ts,Ks]=l.useState([]),[Ke,wn]=l.useState([]),[Ye,pe]=l.useState(null),[Ls,F]=l.useState(null),za=6,[_,Na]=l.useState(za),[Le,bn]=l.useState(90),fa=l.useRef(null),Os=l.useRef(null),[va,ka]=l.useState(null),[Sa,Ca]=l.useState(null),[j,Oe]=l.useState({layout:null,activeId:null,activeType:null,activeItemId:null,size:null,overCell:null,overValid:!1});l.useEffect(()=>{Ve(ns(Oa.modules))},[]);const[Ma,ci]=l.useState(null),di=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)+/g,""),hi=rs.trim().length>0&&os.trim().length>0&&J.length>0,Da=s=>{ye(s.id),Is(s.name),$s(s.description??""),We(s.graph.startNodeId),ne(Ka(s.graph.nodes)),ge(La(s.graph.nodes)),pe(null),Es([]),Ne(null)},pi=()=>{Ge(0),Ja(""),qa(""),ra(""),Xa(!1),Ya("classic"),Ve(ns(Oa.modules)),ca(null),xe("builder")},zn=s=>{Ja(s),yn||ra(di(s))},Nn=s=>{Xa(!0),ra(di(s))},fn=async()=>{if(hi){ca(null);try{const s={modules:J},a=await Ln({name:rs.trim(),location:la.trim(),slug:os.trim(),theme:oa,heroImageUrl:null,homepage:s}),i={id:a.id,slug:a.slug,name:a.name,location:a.location,logo:"/parish/logo.svg",heroImage:a.heroImageUrl??"/parish/visit.jpg",theme:a.theme??"classic"};ea(n=>[...n,i]),sa(a.id),ls(a.theme??oa),cs(a.homepage),M("start"),xe("parish"),$(`/parish/${a.slug}`)}catch{ca("Nie udaÅ‚o siÄ™ utworzyÄ‡ strony. SprÃ³buj ponownie.")}}};l.useEffect(()=>{let s=!0;return Wn().then(a=>{if(!s||a.length===0)return;const i=a.map(n=>({id:n.id,slug:n.slug,name:n.name,location:n.location,logo:"/parish/logo.svg",heroImage:n.heroImageUrl??"/parish/visit.jpg",theme:n.theme??"classic"}));ea(i),!z&&i[0]&&(sa(i[0].id),ls(i[0].theme))}).catch(()=>{ea([])}),()=>{s=!1}},[z]),l.useEffect(()=>{const s=()=>{if(typeof window>"u")return;const a=window.innerWidth;a<720?Na(2):a<980?Na(4):Na(6)};if(s(),typeof window<"u")return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]),l.useEffect(()=>{if(typeof ResizeObserver>"u")return;const s=Pe==="builder"||Je?Os.current:fa.current;if(!s)return;const a=new ResizeObserver(i=>{const n=i[0];if(!n)return;const r=window.getComputedStyle(s),p=Number.parseFloat(r.paddingLeft||"0"),f=Number.parseFloat(r.paddingRight||"0"),u=n.contentRect.width-p-f,y=s===fa.current?qn:me,T=_,I=T>0?(u-y*(T-1))/T:u,m=Math.max(80,Math.round(I*.23));bn(m)});return a.observe(s),()=>a.disconnect()},[_,Pe,Je]),l.useEffect(()=>{z&&Tn(z).then(s=>{cs({...s.homepage,modules:ns(s.homepage.modules)}),ls(s.theme??"classic"),ps(ns(s.homepage.modules))}).catch(()=>{cs(null)})},[z]),l.useEffect(()=>{z&&(Kn(z).then(s=>ei(s)).catch(()=>ei([])),Ta(z).then(s=>hs(s)).catch(()=>hs([])))},[z]),l.useEffect(()=>{if(ee)return;us(new Date().toISOString().slice(0,10))},[ee]),l.useEffect(()=>{if(!h||!L){Ds([]);return}qi(L.id).then(s=>{Ds(s),!se&&s[0]&&Da(s[0])}).catch(()=>Ds([]))},[h,L==null?void 0:L.id,se]),l.useEffect(()=>{Es([]),Ks([])},[q,oe,we,be]);const Pa=l.useMemo(()=>Xs.find(s=>s.id===ia)??Xs[0],[ia]),ue=l.useMemo(()=>as.find(s=>s.id===_a)??as[0],[_a]),Ae=l.useMemo(()=>Ys.find(s=>s.id===ta)??Ys[0],[ta]),Be=l.useMemo(()=>Aa.find(s=>s.id===Va)??Aa[0],[Va]),te=l.useMemo(()=>d==="community-bible"||d==="community-formation"?ut[d]:null,[d]),As=s=>{M(s),ie(!1),v(null),ln[s]&&xn(ln[s])},vn=()=>As("intentions");l.useEffect(()=>{if(!z){Pe!=="builder"&&xe("chooser");return}const s=O.find(a=>a.slug===z);s&&(sa(s.id),ls(s.theme),xe("parish"),M("start"))},[z,O,Pe]);const Ia=(s,a)=>{const i=H(s,a);return s.type==="sticky"?e.jsx(bt,{layout:i,columns:je[a]}):s.type==="intentions"?e.jsx(ft,{layout:i,columns:je[a],items:da,parishSlug:z,onOpenIntentions:vn}):s.type==="calendar"?e.jsx(vt,{layout:i,columns:je[a]}):e.jsxs("div",{className:"module-placeholder",children:[e.jsxs("p",{children:["ModuÅ‚: ",s.type]}),e.jsxs("span",{className:"muted",children:["Rozmiar: ",K(i.size.colSpan,je[a]),"x",W(i.size.rowSpan)]})]})},kn=(s,a=1,i=1,n)=>{var u,y;const r=is.find(T=>T.type===s),p=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${s}-${Date.now()}`,f={};return ts.forEach(T=>{f[T]={position:{row:1,col:1},size:{colSpan:Gs,rowSpan:Vs}}}),f[n]={position:{row:a,col:i},size:{colSpan:Gs,rowSpan:Vs}},{id:p,type:s,layouts:f,position:(u=f.desktop)==null?void 0:u.position,size:(y=f.desktop)==null?void 0:y.size,props:{title:(r==null?void 0:r.label)??s}}},ui=_n(Gn(Vn,{activationConstraint:{distance:6}})),Fe=(s,a,i)=>Math.min(i,Math.max(a,s)),mi=s=>{if(!s.startsWith("cell:"))return null;const[,a,i]=s.split(":"),n=Number(a),r=Number(i);return!Number.isFinite(n)||!Number.isFinite(r)?null:{row:n,col:r}},R=tt(_),Z=je[R],Qe=(s,a,i,n,r)=>{const p=new Set;let f=4;s.forEach(I=>{if(r&&I.id===r)return;const m=H(I,n),X=K(m.size.colSpan,i),C=W(m.size.rowSpan),B=m.position.row+C-1;f=Math.max(f,B);for(let G=m.position.row;G<m.position.row+C;G+=1)for(let A=m.position.col;A<m.position.col+X;A+=1)p.add(`${G}:${A}`)});const u={colSpan:K(a.colSpan,i),rowSpan:W(a.rowSpan)},y=Math.max(4,f+4),T=new Set;for(let I=1;I<=y;I+=1)for(let m=1;m<=i;m+=1){if(m+u.colSpan-1>i)continue;let X=!1;for(let C=I;C<I+u.rowSpan;C+=1){for(let B=m;B<m+u.colSpan;B+=1)if(p.has(`${C}:${B}`)){X=!0;break}if(X)break}X||T.add(`${I}:${m}`)}return{valid:T,rows:y,size:u}},Sn=(s,a,i,n)=>{const{valid:r}=Qe(s,a,i,n);return Array.from(r).map(f=>{const[u,y]=f.split(":");return{row:Number(u),col:Number(y)}}).sort((f,u)=>f.row===u.row?f.col-u.col:f.row-u.row)[0]??{row:1,col:1}},Cn=(s,a,i,n,r)=>{const p=K(a.size.colSpan,i),f=W(a.size.rowSpan),u=a.position.row,y=a.position.col;if(u<1||y<1||y+p-1>i)return!1;const T=new Set;s.forEach(I=>{if(r&&I.id===r)return;const m=H(I,n),X=K(m.size.colSpan,i),C=W(m.size.rowSpan);for(let B=m.position.row;B<m.position.row+C;B+=1)for(let G=m.position.col;G<m.position.col+X;G+=1)T.add(`${B}:${G}`)});for(let I=u;I<u+f;I+=1)for(let m=y;m<y+p;m+=1)if(T.has(`${I}:${m}`))return!1;return!0},ji=(s,a,i,n)=>{const r=String(s.active.id);if(r.startsWith("palette:")){Oe({layout:a,activeId:r,activeType:"palette",activeItemId:null,size:{colSpan:Gs,rowSpan:Vs},overCell:null,overValid:!1});return}if(r.startsWith("item:")){const p=r.replace("item:",""),f=i.find(y=>y.id===p);if(!f)return;n(p);const u=H(f,R);Oe({layout:a,activeId:r,activeType:"item",activeItemId:p,size:{...u.size},overCell:null,overValid:!1})}},xi=(s,a,i)=>{if(j.layout!==a||!j.size)return;const{over:n}=s;if(!n){Oe(u=>({...u,overCell:null,overValid:!1}));return}const r=mi(String(n.id));if(!r){Oe(u=>({...u,overCell:null,overValid:!1}));return}const{valid:p}=Qe(i,j.size,Z,R,j.activeItemId??void 0),f=`${r.row}:${r.col}`;Oe(u=>({...u,overCell:r,overValid:p.has(f)}))},ce=()=>{Oe({layout:null,activeId:null,activeType:null,activeItemId:null,size:null,overCell:null,overValid:!1})},yi=(s,a,i,n,r)=>{var m,X;const{active:p,over:f}=s,u=String(p.id);if(!f){ce();return}const y=mi(String(f.id));if(!y){ce();return}if(j.layout!==a||!j.size){ce();return}const{valid:T}=Qe(i,j.size,Z,R,j.activeItemId??void 0),I=`${y.row}:${y.col}`;if(!T.has(I)){ce();return}if(u.startsWith("palette:")){const C=u.replace("palette:",""),B=Za(kn(C,y.row,y.col,R)),G=H(B,R),A={...B.layouts??{}};ts.forEach(ae=>{const V=je[ae],le={colSpan:K(G.size.colSpan,V),rowSpan:W(G.size.rowSpan)};if(ae===R){A[ae]={position:{row:y.row,col:y.col},size:le};return}const Ce=Sn(i,le,V,ae);A[ae]={position:Ce,size:le}});const de=[...i,{...B,layouts:A,position:((m=A.desktop)==null?void 0:m.position)??B.position,size:((X=A.desktop)==null?void 0:X.size)??B.size}];n(de),r(B.id),ce();return}if(u.startsWith("item:")){const C=u.replace("item:","");if(!i.find(A=>A.id===C)){ce();return}const G=i.map(A=>{var V,le;if(A.id!==C)return A;const de={...A.layouts??{}},ae=H(A,R);return de[R]={position:{row:y.row,col:y.col},size:{...ae.size}},{...A,layouts:de,position:((V=de.desktop)==null?void 0:V.position)??A.position,size:((le=de.desktop)==null?void 0:le.size)??A.size}});n(G),r(C)}ce()},gi=(s,a)=>{a(hn(s,R,Z))},wi=({type:s,label:a})=>{const{attributes:i,listeners:n,setNodeRef:r,isDragging:p}=en({id:`palette:${s}`});return e.jsx("button",{ref:r,type:"button",className:`module-pill ${p?"is-dragging":""}`,...n,...i,children:a})},bi=({row:s,col:a,isValid:i,isActive:n})=>{const{setNodeRef:r,isOver:p}=Jn({id:`cell:${s}:${a}`});return e.jsx("div",{ref:r,className:`editor-cell is-dropzone ${n?"is-active":""} ${i?"is-valid":""} ${p?"is-over":""}`})},zi=({item:s,frame:a,isActive:i,onSelect:n,isHidden:r,onResizeStart:p,children:f})=>{const{attributes:u,listeners:y,setNodeRef:T,isDragging:I}=en({id:`item:${s.id}`});return e.jsxs("div",{ref:T,className:`editor-module ${i?"is-active":""} ${I?"is-dragging":""} ${r?"is-hidden":""}`,style:{gridColumn:`${a.position.col} / span ${K(a.size.colSpan,Z)}`,gridRow:`${a.position.row} / span ${W(a.size.rowSpan)}`},onClick:n,...y,...u,children:[e.jsx("div",{className:"editor-module-content",children:f}),p?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"button",className:"resize-handle resize-handle-left","aria-label":"ZmieÅ„ szerokoÅ›Ä‡ moduÅ‚u",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),p("left",m)}}),e.jsx("button",{type:"button",className:"resize-handle resize-handle-right","aria-label":"ZmieÅ„ szerokoÅ›Ä‡ moduÅ‚u",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),p("right",m)}}),e.jsx("button",{type:"button",className:"resize-handle resize-handle-top","aria-label":"ZmieÅ„ wysokoÅ›Ä‡ moduÅ‚u",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),p("top",m)}}),e.jsx("button",{type:"button",className:"resize-handle resize-handle-bottom","aria-label":"ZmieÅ„ wysokoÅ›Ä‡ moduÅ‚u",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),p("bottom",m)}}),e.jsx("button",{type:"button",className:"resize-handle resize-handle-top-left","aria-label":"ZmieÅ„ rozmiar moduÅ‚u",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),p("top-left",m)}}),e.jsx("button",{type:"button",className:"resize-handle resize-handle-top-right","aria-label":"ZmieÅ„ rozmiar moduÅ‚u",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),p("top-right",m)}}),e.jsx("button",{type:"button",className:"resize-handle resize-handle-bottom-left","aria-label":"ZmieÅ„ rozmiar moduÅ‚u",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),p("bottom-left",m)}}),e.jsx("button",{type:"button",className:"resize-handle resize-handle-bottom-right","aria-label":"ZmieÅ„ rozmiar moduÅ‚u",onPointerDown:m=>{m.preventDefault(),m.stopPropagation(),p("bottom-right",m)}})]}):null]})},Mn=["Dane podstawowe","ZawartoÅ›Ä‡","WyglÄ…d","Podsumowanie"],Ni=J.map(s=>s.type),Dn=(gn??Oa).modules,fi=l.useMemo(()=>{var s;if(!j.activeId)return"ModuÅ‚";if(j.activeType==="palette"){const a=j.activeId.replace("palette:","");return((s=is.find(i=>i.type===a))==null?void 0:s.label)??a}if(j.activeType==="item"){const a=j.activeId.replace("item:",""),i=(j.layout==="builder"?J:Q).find(n=>n.id===a)??null;return(i==null?void 0:i.type)??"ModuÅ‚"}return"ModuÅ‚"},[j,J,Q]),fe=j.layout==="builder"&&!!j.activeId,ve=fe&&j.size?Qe(J,j.size,Z,R,j.activeItemId):null,ke=j.layout==="edit"&&!!j.activeId,Se=ke&&j.size?Qe(Q,j.size,Z,R,j.activeItemId):null,k=l.useMemo(()=>{if(!Ye)return null;const s=q.find(n=>n.id===Ye);if(!s)return null;const a=oe.find(n=>n.source===s.id&&Y(n.sourceHandle)==="next"),i=oe.find(n=>n.source===s.id&&Y(n.sourceHandle)==="else");return{id:s.id,type:s.data.type,nextId:(a==null?void 0:a.target)??null,elseId:(i==null?void 0:i.target)??null,config:s.data.config??{}}},[Ye,q,oe]),E=k?Ue[k.type]:null,vi=l.useMemo(()=>{if(!k)return[];const s=(E==null?void 0:E.fields)??[],a=new Set(s.map(n=>n.key)),i=Object.keys(k.config??{}).filter(n=>!n.startsWith("_")&&!a.has(n)).map(n=>({key:n,label:n}));return[...s,...i]},[E,k]),ki=l.useMemo(()=>{const s=Ws.trim().toLowerCase();return Js.filter(a=>{const i=Ba(a.type);if(Xe!=="all"&&i!==Xe)return!1;if(!s)return!0;const n=Ue[a.type];return`${a.label} ${(n==null?void 0:n.description)??""} ${a.type}`.toLowerCase().includes(s)})},[Ws,Xe]),Bs=l.useMemo(()=>q.map(s=>({...s,data:{...s.data,requireIntentions:Te,emitConflicts:s.data.type==="Emit"?ze.length:0}})),[q,Te,ze.length]),Si=l.useMemo(()=>it(oe,Bs),[oe,Bs]),Fs=l.useMemo(()=>{const s=new Map;return Ke.forEach(a=>{const i=new Date(a.massDateTime).toISOString();s.set(i,(s.get(i)??0)+1)}),new Set(Array.from(s.entries()).filter(([,a])=>a>1).map(([a])=>a))},[Ke]),Zs=l.useMemo(()=>ee?ds.filter(s=>new Date(s.massDateTime).toISOString().slice(0,10)===ee).sort((s,a)=>new Date(s.massDateTime).getTime()-new Date(a.massDateTime).getTime()):[],[ds,ee]),Pn=async()=>{if(L)try{ai(null);const s={modules:Q};await On(L.id,{homepage:s,isPublished:!0}),cs(s),ha(!1)}catch{ai("Nie udaÅ‚o siÄ™ zapisaÄ‡ ukÅ‚adu strony.")}},Ci=async()=>{if(L){if(!ee||!ms||!js||!ys){F("UzupeÅ‚nij datÄ™, koÅ›ciÃ³Å‚ i nazwÄ™ mszy.");return}F(null);try{const a={massDateTime:new Date(`${ee}T${ms}`).toISOString(),churchName:js,title:ys,note:pa||null,isCollective:ga,durationMinutes:Number.isFinite(Number(zs))?Number(zs):null,kind:ua||null,beforeService:ma||null,afterService:ja||null,donationSummary:xa||null,intentions:ya.split(`
`).map(i=>i.trim()).filter(i=>i.length>0).map(i=>{const[n,r]=i.split("|").map(p=>p.trim());return{text:n,donation:r||null}})};if($e?await An(L.id,$e,a):await Bn(L.id,a),Ie("18:00"),Ee(null),xs(""),gs(""),ws(""),bs(""),Ns("60"),fs(""),vs(""),ks(""),qe(""),Ss(!1),z){const i=await Ta(z);hs(i)}}catch{F("Nie udaÅ‚o siÄ™ zapisaÄ‡ mszy.")}}},Mi=s=>{const a=new Date(s.massDateTime),i=a.toISOString().slice(0,10),n=a.toISOString().slice(11,16);Ee(s.id),us(i),Ie(n),xs(s.churchName??""),gs(s.title??""),ws(s.note??""),bs(s.kind??""),Ns(s.durationMinutes?String(s.durationMinutes):"60"),fs(s.beforeService??""),vs(s.afterService??""),ks(s.donationSummary??""),Ss(!!s.isCollective);try{const r=s.intentionsJson?JSON.parse(s.intentionsJson):[];qe(r.map(p=>`${p.text}${p.donation?` | ${p.donation}`:""}`).join(`
`))}catch{qe("")}},Di=s=>{const a=Js.find(r=>r.type===s);if(!a)return;const i=`node-${Date.now()}-${Math.floor(Math.random()*1e3)}`;let n=!1;ne(r=>{r.length===0&&(n=!0);const p={id:i,type:"massRuleNode",position:{x:120+r.length%3*260,y:60+Math.floor(r.length/3)*180},data:{label:i,type:a.type,config:{...a.config}}};return[...r,p]}),Ye?es(Ye,"next",i):n&&We(i),pe(i)},Pi=()=>{if(!k)return;const s=Ue[k.type],a=`node-${Date.now()}-${Math.floor(Math.random()*1e3)}`;ne(i=>{const n=i.find(r=>r.id===k.id);return n?[...i,{...n,id:a,position:{x:n.position.x+48,y:n.position.y+48},data:{...n.data,label:a,type:(s==null?void 0:s.type)??n.data.type,config:{...n.data.config??{}}}}]:i}),pe(a)},Ii=()=>{if(!k)return;const s=k.id;ne(a=>{var n;const i=a.filter(r=>r.id!==s);return he===s&&We(((n=i[0])==null?void 0:n.id)??""),i}),ge(a=>He(a.filter(i=>i.source!==s&&i.target!==s))),pe(null)},$i=()=>{const s=La(qs),a=tn(Ka(qs),s,"node-1");ye(null),Is("Nowa reguÅ‚a"),$s(""),We("node-1"),ne(a),ge(s),Es([]),Ks([]),Ne(null),pe(null)},Ei=()=>{const s=[];return(!he||!q.some(a=>a.id===he))&&s.push({level:"error",message:"Brak poprawnego node startowego."}),q.some(a=>a.data.type==="Emit")||s.push({level:"error",message:'Graf nie zawiera node "Zapisz mszÄ™".'}),q.forEach(a=>{var n,r;a.data.type==="MassTemplate"&&!(((n=a.data.config)==null?void 0:n.time)??"").trim()&&s.push({level:"error",message:`Node ${a.id}: brak godziny mszy.`}),a.data.type==="AddIntention"&&Te&&dn((r=a.data.config)==null?void 0:r.text).length===0&&s.push({level:"warning",message:`Node ${a.id}: brak treÅ›ci intencji.`});const i=oe.filter(p=>p.source===a.id);if(a.data.type!=="Stop"&&i.length===0&&s.push({level:"warning",message:`Node ${a.id}: brak wyjÅ›cia.`}),Fa(a.data.type)){const p=i.some(u=>Y(u.sourceHandle)==="next"),f=i.some(u=>Y(u.sourceHandle)==="else");(!p||!f)&&s.push({level:"warning",message:`Node ${a.id}: warunek powinien mieÄ‡ gaÅ‚Ä…Åº TRUE i FALSE.`})}}),s},Ri=()=>{const s=Ei();Ks(s);const a=s.find(i=>i.level==="error");F(a?a.message:null)},Wi=s=>{ne(a=>{const i=Rn(s,a),n=new Set(i.map(r=>r.id));return ge(r=>He(r.filter(p=>n.has(p.source)&&n.has(p.target)))),i})},Ti=(s,a)=>{const i=String(Math.round(a.position.x)),n=String(Math.round(a.position.y));ne(r=>r.map(p=>p.id===a.id?{...p,position:a.position,data:{...p.data,config:{...p.data.config??{},_x:i,_y:n}}}:p))},Ki=s=>{ge(a=>He(En(s,a)))},Li=s=>{if(!s.source||!s.target)return;const a=s.source,i=s.target,n=s.sourceHandle??"next";ge(r=>He($n({id:`${a}:${n}:${i}`,source:a,target:i,sourceHandle:n},r.filter(p=>!(p.source===a&&Y(p.sourceHandle)===n)))))},Oi=(s,a)=>{ne(i=>i.map(n=>n.id===s?{...n,data:{...n.data,type:a}}:n))},Hs=(s,a,i)=>{ne(n=>n.map(r=>r.id===s?{...r,data:{...r.data,config:{...r.data.config??{},[a]:i}}}:r))},es=(s,a,i)=>{ge(n=>{const r=n.filter(p=>!(p.source===s&&Y(p.sourceHandle)===a));return He(i?[...r,{id:`${s}:${a}:${i}`,source:s,target:i,sourceHandle:a}]:r)})},Ai=()=>{ne(s=>tn(s,oe,he))},Bi=async()=>{if(!L)return;if(!Ps.trim()){F("Podaj nazwÄ™ reguÅ‚y.");return}if(!he.trim()){F("Podaj startowy node reguÅ‚y.");return}F(null),Ne(null);const s=Ei();Ks(s);const a=s.find(i=>i.level==="error");if(a){F(a.message);return}try{const i=nt(q,oe),n=i.find(u=>{var y;return u.type==="MassTemplate"&&!(((y=u.config)==null?void 0:y.time)??"").trim()});if(n){pe(n.id),F("Szablon mszy ma brak godziny (â° brak). UzupeÅ‚nij przed zapisem.");return}Te&&!i.some(u=>{var y;return u.type==="AddIntention"&&(((y=u.config)==null?void 0:y.text)??"").trim().length>0})&&Ne("Wymagane intencje: w grafie brak aktywnego node Dodaj intencje.");const r={name:Ps.trim(),description:wa.trim()||null,graph:{startNodeId:he.trim(),nodes:i.map(u=>({id:u.id,type:u.type,nextId:u.nextId??null,elseId:u.elseId??null,config:u.config??{}})),metadata:{builtins:"easter,advent,christmas,lent,ordinary,weekday-nth"}}};let p=se;se?await Fn(L.id,se,r):p=await Zn(L.id,r);const f=await qi(L.id);Ds(f),ye(p)}catch{F("Nie udaÅ‚o siÄ™ zapisaÄ‡ reguÅ‚y.")}},Fi=async()=>{if(!L||!se||!we||!be){F("Wybierz reguÅ‚Ä™ oraz zakres dat do symulacji.");return}F(null),Ne(null);try{const s=await Hn(L.id,se,{fromDate:we,toDate:be,includeExisting:!1});wn(s);const a=new Map;s.forEach(n=>{const r=new Date(n.massDateTime).toISOString();a.set(r,(a.get(r)??0)+1)});const i=Array.from(a.entries()).filter(([,n])=>n>1).map(([n,r])=>`${new Date(n).toLocaleString()} (${r} wpisy)`);Es(i),i.length>0&&Ne("W podglÄ…dzie sÄ… kolizje terminÃ³w. SprawdÅº listÄ™ konfliktÃ³w.")}catch{F("Nie udaÅ‚o siÄ™ zasymulowaÄ‡ reguÅ‚y.")}},Zi=async()=>{if(!L||!se||!we||!be){F("Wybierz reguÅ‚Ä™ oraz zakres dat.");return}if(F(null),Ne(null),ze.length>0){F("Wykryto kolizje terminÃ³w w podglÄ…dzie. Popraw graf przed zastosowaniem.");return}try{if(await Un(L.id,se,{fromDate:we,toDate:be,replaceExisting:ba}),z){const s=await Ta(z);hs(s)}}catch{F("Nie udaÅ‚o siÄ™ zastosowaÄ‡ reguÅ‚y.")}},Hi=(s,a,i,n)=>{const r=Os.current;if(!r)return;const p=r.getBoundingClientRect(),f=p.width,u=_>0?(f-me*(_-1))/_:f,y=H(a,R),T=K(y.size.colSpan,Z),I=W(y.size.rowSpan);ci({layout:s,itemId:a.id,originColStart:y.position.col,originColEnd:y.position.col+T-1,originRowStart:y.position.row,originRowEnd:y.position.row+I-1,gridLeft:p.left,gridTop:p.top,cellWidth:u,rowHeight:Le,handle:i}),typeof document<"u"&&(document.body.style.userSelect="none"),n.currentTarget.setPointerCapture(n.pointerId)};return l.useEffect(()=>{if(!Ma)return;const s=i=>{const{layout:n,itemId:r,originColStart:p,originColEnd:f,originRowStart:u,originRowEnd:y,gridLeft:T,gridTop:I,cellWidth:m,rowHeight:X,handle:C}=Ma,B=Math.floor((i.clientX-T)/(m+me))+1,G=Math.floor((i.clientY-I)/(X+me))+1,A=Math.min(za,Z),de=ae=>{let V=p,le=f,Ce=u,$a=y;(C==="left"||C==="top-left"||C==="bottom-left")&&(V=Fe(B,1,f)),(C==="right"||C==="top-right"||C==="bottom-right")&&(le=Fe(B,p,_)),(C==="top"||C==="top-left"||C==="top-right")&&(Ce=Fe(G,1,y)),(C==="bottom"||C==="bottom-left"||C==="bottom-right")&&($a=Fe(G,u,u+an+6));let ss=K(Fe(le-V+1,Gs,A),_),Ea=W(Fe($a-Ce+1,Vs,an));return(C==="left"||C==="top-left"||C==="bottom-left")&&(V=le-ss+1),(C==="top"||C==="top-left"||C==="top-right")&&(Ce=$a-Ea+1),V<1&&(V=1),V+ss-1>_&&(V=_-ss+1),Cn(ae,{position:{row:Ce,col:V},size:{colSpan:ss,rowSpan:Ea}},Z,R,r)?ae.map(Ze=>{var Ui,_i;if(Ze.id!==r)return Ze;const Us={...Ze.layouts??{}};return Us[R]={position:{row:Ce,col:V},size:{colSpan:ss,rowSpan:Ea}},{...Ze,layouts:Us,position:((Ui=Us.desktop)==null?void 0:Ui.position)??Ze.position,size:((_i=Us.desktop)==null?void 0:_i.size)??Ze.size}}):ae};n==="builder"?Ve(de):ps(de)},a=()=>{ci(null),typeof document<"u"&&(document.body.style.userSelect="")};return window.addEventListener("pointermove",s),window.addEventListener("pointerup",a),()=>{window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",a)}},[Ma,za,_]),e.jsx("div",{className:`parish-portal theme-${pn}`,lang:b,children:Pe==="chooser"?e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"parish-header parish-header--chooser",children:[e.jsxs("div",{className:"parish-header-left",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:S,children:"Back"}),e.jsx("a",{className:"parish-up",href:"/#/",children:"Up"}),e.jsxs("a",{className:"parish-brand",href:"/#/",children:[e.jsx("img",{src:"/parish/logo.svg",alt:"Logo parafii",className:"parish-logo"}),e.jsx("span",{className:"parish-name",children:"Parafie"})]})]}),e.jsxs("div",{className:"parish-controls",children:[h&&e.jsx("button",{type:"button",className:"parish-create",onClick:pi,children:"UtwÃ³rz stronÄ™ parafii"}),e.jsx(_s,{copy:t,label:o,isAuthenticated:h,secureMode:x,onLogin:c,onProfileNavigate:N,onToggleSecureMode:g,onLogout:w,variant:"ghost"})]})]}),e.jsx("main",{className:"parish-main",children:e.jsx("section",{className:"parish-chooser",children:e.jsxs("div",{className:"chooser-card",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Portal parafialny"}),e.jsx("h1",{children:"Wybierz parafiÄ™"}),e.jsx("p",{className:"lead",children:"Wybierz parafiÄ™ z listy lub utwÃ³rz nowÄ… stronÄ™."})]}),e.jsx("div",{className:"chooser-list",children:O.length===0?e.jsx("p",{className:"muted",children:"Brak stron parafii."}):O.map(s=>e.jsxs("a",{className:"chooser-item",href:`/#/parish/${s.slug}`,children:[e.jsxs("div",{children:[e.jsx("strong",{children:s.name}),e.jsx("span",{className:"muted",children:s.location})]}),e.jsx("span",{className:"pill",children:"WejdÅº"})]},s.id))}),h&&e.jsx("div",{className:"chooser-action",children:e.jsx("button",{type:"button",className:"parish-create",onClick:pi,children:"UtwÃ³rz nowÄ… parafiÄ™"})})]})})})]}):Pe==="builder"?e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"parish-header parish-header--chooser",children:[e.jsxs("div",{className:"parish-header-left",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:()=>{if(re===0){xe("chooser");return}Ge(s=>Math.max(0,s-1))},children:"WrÃ³Ä‡"}),e.jsxs("button",{type:"button",className:"parish-brand",onClick:()=>{xe("chooser"),Ge(0)},children:[e.jsx("img",{src:"/parish/logo.svg",alt:"Logo parafii",className:"parish-logo"}),e.jsx("span",{className:"parish-name",children:"Nowa strona parafii"})]})]}),e.jsx("div",{className:"parish-controls",children:e.jsx(_s,{copy:t,label:o,isAuthenticated:h,secureMode:x,onLogin:c,onProfileNavigate:N,onToggleSecureMode:g,onLogout:w,variant:"ghost"})})]}),e.jsx("main",{className:"parish-main",children:e.jsxs("section",{className:"parish-builder",children:[e.jsxs("div",{className:"builder-card",children:[e.jsxs("div",{className:"builder-intro",children:[e.jsx("p",{className:"tag",children:"Panel tworzenia"}),e.jsx("h1",{children:"StwÃ³rz witrynÄ™ parafii"}),e.jsx("p",{className:"lead",children:"Wybierz zakres informacji, ktÃ³re majÄ… byÄ‡ widoczne publicznie. Po utworzeniu zostaniesz gÅ‚Ã³wnym administratorem i moÅ¼esz przydzielaÄ‡ role."})]}),e.jsx("div",{className:"builder-steps",children:Mn.map((s,a)=>e.jsxs("div",{className:`builder-step ${re===a?"is-active":""} ${re>a?"is-done":""}`,children:[e.jsx("span",{children:a+1}),e.jsx("strong",{children:s})]},s))})]}),e.jsxs("div",{className:"builder-card",children:[re===0&&e.jsxs("div",{className:"builder-panel",children:[e.jsx("h2",{children:"Dane parafii"}),e.jsxs("div",{className:"builder-grid",children:[e.jsxs("label",{className:"builder-field",children:[e.jsx("span",{children:"Nazwa parafii"}),e.jsx("input",{type:"text",value:rs,onChange:s=>zn(s.target.value),placeholder:"np. Parafia Å›w. Jana"})]}),e.jsxs("label",{className:"builder-field",children:[e.jsx("span",{children:"Lokalizacja"}),e.jsx("input",{type:"text",value:la,onChange:s=>qa(s.target.value),placeholder:"np. KrakÃ³w â€¢ PrÄ…dnik"})]}),e.jsxs("label",{className:"builder-field",children:[e.jsx("span",{children:"Adres w URL (slug)"}),e.jsx("input",{type:"text",value:os,onChange:s=>Nn(s.target.value),placeholder:"np. sw-jan"})]})]})]}),re===1&&e.jsxs("div",{className:"builder-panel",children:[e.jsxs(Xi,{sensors:ui,collisionDetection:Yi,onDragStart:s=>ji(s,"builder",J,ka),onDragOver:s=>xi(s,"builder",J),onDragCancel:ce,onDragEnd:s=>yi(s,"builder",J,Ve,ka),children:[e.jsxs("div",{className:"layout-header",children:[e.jsx("h2",{children:"UkÅ‚ad strony"}),e.jsx("div",{className:"layout-subheader",children:"ModuÅ‚y"}),e.jsx("div",{className:"layout-palette",children:is.map(s=>e.jsx(wi,{type:s.type,label:s.label},s.type))})]}),(()=>{const s=ve!=null&&ve.rows?ve.rows:Math.max(4,Math.max(1,...J.map(i=>{const n=H(i,R);return n.position.row+W(n.size.rowSpan)-1}))+2),a=s*Le+(s-1)*me+sn*2;return e.jsxs("div",{className:`editor-grid-shell ${fe?"is-dragging":""}`,ref:Os,style:{"--grid-row-height":`${Le}px`,"--grid-gap":`${me}px`,"--grid-columns":_,height:`${a}px`},children:[e.jsx("div",{className:"editor-grid-layer editor-grid-cells",children:Array.from({length:s}).flatMap((i,n)=>{const r=n+1;return Array.from({length:_}).map((p,f)=>{var I;const u=f+1,y=`${r}:${u}`,T=fe&&(((I=ve==null?void 0:ve.valid)==null?void 0:I.has(y))??!1);return e.jsx(bi,{row:r,col:u,isValid:T,isActive:fe},`builder-cell-${r}-${u}`)})})}),e.jsxs("div",{className:"editor-grid-layer editor-grid-modules",children:[J.map(i=>e.jsx(zi,{item:i,frame:H(i,R),isActive:va===i.id,onSelect:()=>ka(i.id),isHidden:fe&&j.activeItemId===i.id,onResizeStart:(n,r)=>Hi("builder",i,n,r),children:Ia(i,R)},`builder-item-${i.id}`)),fe&&j.overValid&&j.overCell&&j.size?e.jsxs("div",{className:"editor-module is-ghost",style:{gridColumn:`${j.overCell.col} / span ${K(j.size.colSpan,Z)}`,gridRow:`${j.overCell.row} / span ${W(j.size.rowSpan)}`},children:[e.jsx("strong",{children:"PodglÄ…d"}),e.jsxs("span",{className:"muted",children:[K(j.size.colSpan,Z),"x",W(j.size.rowSpan)]})]}):null]})]})})(),e.jsx(Qi,{children:fe&&!j.overValid&&j.size?e.jsxs("div",{className:"editor-module drag-overlay",children:[e.jsx("strong",{children:fi}),e.jsxs("span",{className:"muted",children:[K(j.size.colSpan,Z),"x",W(j.size.rowSpan)]})]}):null})]}),e.jsx("div",{className:"builder-actions",children:e.jsx("button",{type:"button",className:"parish-back",onClick:()=>gi(J,Ve),children:"Compact layout"})}),va&&e.jsxs("div",{className:"builder-layout",children:[e.jsx("h3",{children:"Ustawienia moduÅ‚u"}),J.filter(s=>s.id===va).map(s=>e.jsxs("div",{className:"builder-layout-row",children:[e.jsx("strong",{children:s.type}),e.jsxs("span",{className:"muted",children:["Rozmiar: ",K(H(s,R).size.colSpan,Z),"x",W(H(s,R).size.rowSpan)," (zmieÅ„ przez przeciÄ…gniÄ™cie naroÅ¼nika)"]})]},s.id))]}),Qa&&e.jsx("p",{className:"builder-error",children:Qa})]}),re===2&&e.jsxs("div",{className:"builder-panel",children:[e.jsx("h2",{children:"Styl i motyw"}),e.jsx("div",{className:"builder-options builder-themes",children:["classic","warm","minimal"].map(s=>e.jsxs("label",{className:"builder-theme",children:[e.jsx("input",{type:"radio",name:"theme",checked:oa===s,onChange:()=>Ya(s)}),e.jsx("span",{children:s==="classic"?"Klasyczny":s==="warm"?"CiepÅ‚y":"Minimal"})]},s))})]}),re===3&&e.jsxs("div",{className:"builder-panel",children:[e.jsx("h2",{children:"Podsumowanie"}),e.jsxs("div",{className:"builder-summary",children:[e.jsxs("div",{children:[e.jsx("strong",{children:rs||"Nowa parafia"}),e.jsx("span",{className:"muted",children:la||"Lokalizacja do uzupeÅ‚nienia"}),e.jsxs("span",{className:"muted",children:["Adres: /parish/",os||"slug"]})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"ModuÅ‚y"}),e.jsx("span",{className:"muted",children:Ni.length?Ni.join(", "):"Brak wybranych moduÅ‚Ã³w"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Rola gÅ‚Ã³wna"}),e.jsx("span",{className:"muted",children:"Po utworzeniu zostaniesz gÅ‚Ã³wnym administratorem."})]})]})]}),e.jsxs("div",{className:"builder-actions",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:()=>{if(re===0){xe("chooser");return}Ge(s=>Math.max(0,s-1))},children:"WrÃ³Ä‡"}),re<3?e.jsx("button",{type:"button",className:"parish-login",onClick:()=>Ge(s=>Math.min(3,s+1)),children:"Dalej"}):e.jsx("button",{type:"button",className:"parish-login",disabled:!hi,onClick:fn,children:"UtwÃ³rz stronÄ™"})]})]})]})})]}):L?e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"parish-header",children:[e.jsxs("div",{className:"parish-header-left",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:S,children:"Back"}),e.jsx("a",{className:"parish-up",href:"/#/parish",children:"Up"}),e.jsxs("button",{type:"button",className:"parish-brand",onClick:()=>{M("start"),ie(!1),v(null),$(`/parish/${L.slug}`)},children:[e.jsx("img",{src:L.logo,alt:`Logo ${L.name}`,className:"parish-logo"}),e.jsx("span",{className:"parish-name",children:L.name})]})]}),e.jsxs("nav",{className:`parish-menu ${U?"open":""}`,"aria-label":"Menu parafialne",children:[rt.map(s=>{if(s.children){const a=s.children.some(n=>n.id===d),i=De===s.label;return e.jsxs("div",{className:`menu-item ${a?"is-active":""} ${i?"open":""}`,children:[e.jsx("button",{type:"button",className:"menu-button","aria-haspopup":"true",onClick:()=>v(n=>n===s.label?null:s.label),children:s.label}),e.jsx("button",{type:"button",className:"submenu-toggle","aria-label":`RozwiÅ„ ${s.label}`,onClick:()=>v(n=>n===s.label?null:s.label),children:"â–¾"}),e.jsx("div",{className:"submenu",children:s.children.map(n=>e.jsx("button",{type:"button",className:`submenu-link ${d===n.id?"is-active":""}`,onClick:()=>As(n.id),children:n.label},n.id))})]},s.label)}return e.jsx("button",{type:"button",className:`menu-link ${d===s.id?"is-active":""}`,onClick:()=>As(s.id),children:s.label},s.label)}),h&&e.jsx("button",{type:"button",className:`menu-link ${d==="intentions"?"is-active":""}`,onClick:()=>As("intentions"),children:"Panel intencji"})]}),e.jsxs("div",{className:"parish-header-right",children:[e.jsx("div",{className:"parish-menu-control",children:e.jsx("button",{type:"button",className:"menu-toggle",onClick:()=>{ie(s=>(s&&v(null),!s))},children:"Menu"})}),h&&e.jsx("div",{className:"parish-edit-control",children:e.jsx("button",{type:"button",className:`parish-back ${Je?"is-active":""}`,onClick:()=>ha(s=>!s),children:Je?"ZakoÅ„cz edycjÄ™":"Tryb edycji"})}),e.jsx(_s,{copy:t,label:o,isAuthenticated:h,secureMode:x,onLogin:c,onProfileNavigate:N,onToggleSecureMode:g,onLogout:w,variant:"ghost"})]})]}),e.jsxs("main",{className:"parish-main",children:[d==="start"&&e.jsxs("section",{className:"parish-section home-grid-section",children:[Je&&e.jsxs("div",{className:"home-grid-editor",children:[e.jsxs(Xi,{sensors:ui,collisionDetection:Yi,onDragStart:s=>ji(s,"edit",Q,Ca),onDragOver:s=>xi(s,"edit",Q),onDragCancel:ce,onDragEnd:s=>yi(s,"edit",Q,ps,Ca),children:[e.jsxs("div",{className:"layout-header",children:[e.jsx("h3",{children:"Edycja ukÅ‚adu"}),e.jsx("div",{className:"layout-subheader",children:"ModuÅ‚y"}),e.jsx("div",{className:"layout-palette",children:is.map(s=>e.jsx(wi,{type:s.type,label:s.label},`edit-${s.type}`))})]}),(()=>{const s=Se!=null&&Se.rows?Se.rows:Math.max(4,Math.max(1,...Q.map(i=>{const n=H(i,R);return n.position.row+W(n.size.rowSpan)-1}))+2),a=s*Le+(s-1)*me+sn*2;return e.jsxs("div",{className:`editor-grid-shell ${ke?"is-dragging":""}`,ref:Os,style:{"--grid-row-height":`${Le}px`,"--grid-gap":`${me}px`,"--grid-columns":_,height:`${a}px`},children:[e.jsx("div",{className:"editor-grid-layer editor-grid-cells",children:Array.from({length:s}).flatMap((i,n)=>{const r=n+1;return Array.from({length:_}).map((p,f)=>{var I;const u=f+1,y=`${r}:${u}`,T=ke&&(((I=Se==null?void 0:Se.valid)==null?void 0:I.has(y))??!1);return e.jsx(bi,{row:r,col:u,isValid:T,isActive:ke},`edit-cell-${r}-${u}`)})})}),e.jsxs("div",{className:"editor-grid-layer editor-grid-modules",children:[Q.map(i=>e.jsx(zi,{item:i,frame:H(i,R),isActive:Sa===i.id,onSelect:()=>Ca(i.id),isHidden:ke&&j.activeItemId===i.id,onResizeStart:(n,r)=>Hi("edit",i,n,r),children:Ia(i,R)},`edit-item-${i.id}`)),ke&&j.overValid&&j.overCell&&j.size?e.jsxs("div",{className:"editor-module is-ghost",style:{gridColumn:`${j.overCell.col} / span ${K(j.size.colSpan,Z)}`,gridRow:`${j.overCell.row} / span ${W(j.size.rowSpan)}`},children:[e.jsx("strong",{children:"PodglÄ…d"}),e.jsxs("span",{className:"muted",children:[K(j.size.colSpan,Z),"x",W(j.size.rowSpan)]})]}):null]})]})})(),e.jsx(Qi,{children:ke&&!j.overValid&&j.size?e.jsxs("div",{className:"editor-module drag-overlay",children:[e.jsx("strong",{children:fi}),e.jsxs("span",{className:"muted",children:[K(j.size.colSpan,Z),"x",W(j.size.rowSpan)]})]}):null})]}),e.jsxs("div",{className:"builder-actions",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:()=>gi(Q,ps),children:"Compact layout"}),e.jsx("button",{type:"button",className:"parish-back",onClick:()=>ha(!1),children:"Anuluj"}),e.jsx("button",{type:"button",className:"parish-login",onClick:Pn,children:"Zapisz ukÅ‚ad"})]}),Sa&&e.jsxs("div",{className:"builder-layout",children:[e.jsx("h3",{children:"Ustawienia moduÅ‚u"}),Q.filter(s=>s.id===Sa).map(s=>e.jsxs("div",{className:"builder-layout-row",children:[e.jsx("strong",{children:s.type}),e.jsxs("span",{className:"muted",children:["Rozmiar: ",K(H(s,R).size.colSpan,Z),"x",W(H(s,R).size.rowSpan)," (zmieÅ„ przez przeciÄ…gniÄ™cie naroÅ¼nika)"]})]},s.id))]}),si&&e.jsx("p",{className:"builder-error",children:si})]}),e.jsx("div",{className:"home-grid",ref:fa,style:{"--grid-row-height":`${Le}px`},children:Dn.map(s=>{const a=H(s,R);return e.jsx("article",{className:`home-module ${s.type==="sticky"?"home-module--sticky":""}`,style:{gridColumn:`${a.position.col} / span ${K(a.size.colSpan,Z)}`,gridRow:`${a.position.row} / span ${W(a.size.rowSpan)}`},children:e.jsx("div",{className:`module-body module-body-${s.type}`,children:Ia(s,R)})},s.id)})})]}),d==="about"&&e.jsxs("section",{className:"parish-section about-page",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Parafia"}),e.jsx("h2",{children:"O parafii"})]}),e.jsx("span",{className:"muted",children:"Historia i misja wspÃ³lnoty"})]}),e.jsxs("div",{className:"about-grid",children:[e.jsxs("div",{className:"parish-card",children:[e.jsx("h3",{children:"Misja i wspÃ³lnota"}),e.jsx("p",{className:"note",children:"Tworzymy miejsce modlitwy, edukacji i pomocy. KaÅ¼da inicjatywa sÅ‚uÅ¼y budowaniu relacji i wzmacnianiu wiary."}),e.jsx("div",{className:"highlight-grid",children:wt.map(s=>e.jsxs("div",{children:[e.jsx("strong",{children:s.value}),e.jsx("span",{children:s.label})]},s.label))})]}),e.jsxs("div",{className:"parish-card",children:[e.jsx("h3",{children:"Historia parafii"}),e.jsx("p",{className:"note",children:"Parafia powstaÅ‚a w odpowiedzi na rozwÃ³j dzielnicy. Od poczÄ…tku Å‚Ä…czy duchowoÅ›Ä‡ z aktywnym zaangaÅ¼owaniem spoÅ‚ecznym."}),e.jsxs("ul",{className:"history-list",children:[e.jsx("li",{children:"1984 â€” erygowanie parafii i budowa koÅ›cioÅ‚a."}),e.jsx("li",{children:"2002 â€” otwarcie centrum formacji i biblioteki."}),e.jsx("li",{children:"2020 â€” uruchomienie transmisji i nowych wspÃ³lnot."})]})]}),e.jsxs("div",{className:"parish-card about-media",children:[e.jsx("img",{src:"/parish/trip.jpg",alt:"WspÃ³lnota parafialna"}),e.jsxs("div",{children:[e.jsx("h3",{children:"ZaangaÅ¼owanie"}),e.jsx("p",{className:"note",children:"Wspieramy wolontariat, wydarzenia rodzinne oraz dziaÅ‚ania charytatywne."})]})]})]})]}),d==="office"&&e.jsxs("section",{className:"parish-section office-page",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Kancelaria"}),e.jsx("h2",{children:"Godziny przyjÄ™Ä‡ i kontakt"})]}),e.jsx("button",{type:"button",className:"ghost",children:"Pobierz formularze"})]}),e.jsxs("div",{className:"office-grid",children:[e.jsxs("div",{className:"parish-card",children:[e.jsx("h3",{children:"Godziny kancelarii"}),e.jsx("ul",{className:"office-hours",children:gt.map(s=>e.jsxs("li",{children:[e.jsx("strong",{children:s.day}),e.jsx("span",{children:s.hours})]},s.day))}),e.jsxs("div",{className:"notice",children:[e.jsx("strong",{children:"Uwaga"}),e.jsx("p",{children:"W Å›wiÄ™ta i uroczystoÅ›ci godziny mogÄ… ulec zmianie."})]})]}),e.jsxs("div",{className:"parish-card",children:[e.jsx("h3",{children:"Sprawy urzÄ™dowe"}),e.jsx("p",{className:"note",children:"Spisanie protokoÅ‚Ã³w, zapisy na sakramenty i sprawy administracyjne."}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{children:[e.jsx("span",{className:"label",children:"Telefon"}),e.jsx("strong",{children:"+48 12 412 58 50"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"label",children:"E-mail"}),e.jsx("strong",{children:"kancelaria@janchrzciciel.eu"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"label",children:"Lokalizacja"}),e.jsx("strong",{children:"WejÅ›cie od strony plebanii"})]})]})]})]})]}),d==="masses"&&e.jsxs("section",{className:"parish-section",children:[h&&e.jsxs("div",{className:"parish-card admin-form",children:[e.jsx("div",{className:"section-header",children:e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Panel admina"}),e.jsx("h3",{children:"ZarzÄ…dzanie mszami"})]})}),e.jsxs("div",{className:"tabs small",children:[e.jsx("button",{type:"button",className:Re==="single"?"is-active":void 0,onClick:()=>Cs("single"),children:"Pojedyncza msza"}),e.jsx("button",{type:"button",className:Re==="serial"?"is-active":void 0,onClick:()=>Cs("serial"),children:"Dodawanie seryjne (node)"})]}),Re==="single"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("label",{children:[e.jsx("span",{children:"DzieÅ„"}),e.jsx("input",{type:"date",value:ee,onChange:s=>{us(s.target.value),Ee(null)}})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Godzina"}),e.jsx("input",{type:"time",value:ms,onChange:s=>Ie(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"KoÅ›ciÃ³Å‚"}),e.jsx("input",{type:"text",value:js,onChange:s=>xs(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Rodzaj"}),e.jsx("input",{type:"text",value:ua,onChange:s=>bs(s.target.value),placeholder:"np. ferialna, Å›wiÄ…teczna"})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Czas trwania (min)"}),e.jsx("input",{type:"number",min:1,value:zs,onChange:s=>Ns(s.target.value)})]}),e.jsxs("label",{className:"admin-form-full",children:[e.jsx("span",{children:"Nazwa"}),e.jsx("input",{type:"text",value:ys,onChange:s=>gs(s.target.value)})]}),e.jsxs("label",{className:"admin-form-full",children:[e.jsx("span",{children:"Uwagi"}),e.jsx("input",{type:"text",value:pa,onChange:s=>ws(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"NaboÅ¼eÅ„stwo przed"}),e.jsx("input",{type:"text",value:ma,onChange:s=>fs(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"NaboÅ¼eÅ„stwo po"}),e.jsx("input",{type:"text",value:ja,onChange:s=>vs(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Suma ofiar"}),e.jsx("input",{type:"text",value:xa,onChange:s=>ks(s.target.value),placeholder:"np. 150 PLN"})]}),e.jsxs("label",{className:"admin-form-full",children:[e.jsx("span",{children:"Intencje (linia: tekst | ofiara)"}),e.jsx("textarea",{value:ya,onChange:s=>qe(s.target.value),rows:4})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Msza zbiorowa"}),e.jsx("input",{type:"checkbox",checked:ga,onChange:s=>Ss(s.target.checked)})]})]}),e.jsxs("div",{className:"parish-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Msze dnia"}),e.jsx("span",{className:"muted",children:ee||"-"})]}),e.jsx("ul",{className:"status-list",children:Zs.length===0?e.jsx("li",{children:e.jsx("span",{className:"muted",children:"Brak mszy w tym dniu."})}):Zs.map(s=>e.jsx("li",{children:e.jsxs("button",{type:"button",className:"ghost",onClick:()=>Mi(s),children:[new Date(s.massDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," â€¢ ",s.title]})},s.id))})]}),e.jsxs("div",{className:"builder-actions",children:[e.jsx("button",{type:"button",className:"parish-login",onClick:Ci,children:$e?"Zapisz zmiany mszy":"Dodaj mszÄ™"}),$e&&e.jsx("button",{type:"button",className:"parish-back",onClick:()=>{Ee(null),Ie("18:00")},children:"Anuluj edycjÄ™"})]})]}):e.jsxs("div",{className:"mass-rule-builder",children:[e.jsxs("div",{className:"parish-card mass-rule-guide",children:[e.jsx("h4",{children:"Jak budowac graf mszy"}),e.jsxs("ul",{children:[e.jsx("li",{children:"1. Dodaj warunki (np. dzien tygodnia, sezon, swieto), aby wybrac dni."}),e.jsx("li",{children:"2. Dodaj `Szablon mszy`, aby ustawic godzine, miejsce, rodzaj i informacje."}),e.jsx("li",{children:"3. Dodaj `Dodaj intencje` (mozna wiele razy), aby uzupelnic intencje i ofiary."}),e.jsx("li",{children:"4. Dodaj `Zapisz msze`, aby utworzyc wpis dla dnia."}),e.jsx("li",{children:"5. Zakoncz sciezke `Stop` i podlacz `next/else` bez rozlaczonych wezlow."})]})]}),e.jsxs("div",{className:"parish-card mass-rule-legend",children:[e.jsxs("span",{children:[e.jsx("i",{style:{background:"#2563EB"}})," Warunki / filtry dat"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#F59E0B"}})," Msza / slot / godzina"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#7C3AED"}})," Intencje / ofiara"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#16A34A"}})," Zapis do bazy"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#6B7280"}})," Stop"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#DC2626"}})," BÅ‚Ä…d / konflikt"]})]}),e.jsxs("div",{className:"builder-actions",children:[e.jsxs("label",{className:"mass-require-intentions",children:[e.jsx("input",{type:"checkbox",checked:Te,onChange:s=>li(s.target.checked)}),e.jsx("span",{children:"Wymagaj intencji w grafie"})]}),e.jsx("button",{type:"button",className:"parish-back",onClick:$i,children:"Nowa reguÅ‚a"}),e.jsx("button",{type:"button",className:"parish-back",onClick:Ai,children:"UÅ‚Ã³Å¼ graf lewo->prawo"}),e.jsx("button",{type:"button",className:"parish-back",onClick:Ri,children:"SprawdÅº graf"})]}),e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("label",{children:[e.jsx("span",{children:"Szukaj node"}),e.jsx("input",{type:"text",value:Ws,onChange:s=>ri(s.target.value),placeholder:"np. msza, intencja, sezon"})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Kategoria"}),e.jsxs("select",{value:Xe,onChange:s=>oi(s.target.value),children:[e.jsx("option",{value:"all",children:"Wszystkie"}),e.jsx("option",{value:"filter",children:"Warunki"}),e.jsx("option",{value:"mass",children:"Msza"}),e.jsx("option",{value:"intention",children:"Intencje"}),e.jsx("option",{value:"save",children:"Zapis"}),e.jsx("option",{value:"stop",children:"Stop"})]})]})]}),ze.length>0&&e.jsxs("div",{className:"parish-card mass-rule-conflicts",children:[e.jsx("strong",{children:"âš  Konflikty terminÃ³w"}),e.jsx("ul",{children:ze.map(s=>e.jsx("li",{children:s},s))})]}),Ts.length>0&&e.jsxs("div",{className:"parish-card mass-rule-validation",children:[e.jsx("strong",{children:"Wynik walidacji"}),e.jsx("ul",{children:Ts.map((s,a)=>e.jsxs("li",{className:s.level==="error"?"is-error":"is-warning",children:[s.level==="error"?"â›”":"âš "," ",s.message]},`${s.level}-${a}`))})]}),e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("label",{children:[e.jsx("span",{children:"Nazwa reguÅ‚y"}),e.jsx("input",{type:"text",value:Ps,onChange:s=>Is(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Node startowy"}),e.jsx("input",{type:"text",value:he,onChange:s=>We(s.target.value)})]}),e.jsxs("label",{className:"admin-form-full",children:[e.jsx("span",{children:"Opis"}),e.jsx("input",{type:"text",value:wa,onChange:s=>$s(s.target.value)})]})]}),e.jsx("div",{className:"layout-palette",children:ki.map(s=>e.jsx("button",{type:"button",className:"module-pill",onClick:()=>Di(s.type),children:s.label},s.type))}),e.jsx("div",{className:"mass-rule-graph-shell",children:e.jsxs(Gi,{nodes:Bs,edges:Si,nodeTypes:nn,onNodesChange:Wi,onNodeDragStop:Ti,onEdgesChange:Ki,onConnect:Li,onNodeClick:(s,a)=>pe(a.id),fitView:!0,connectionLineStyle:{stroke:"#7a6b58",strokeWidth:2},children:[e.jsx(Vi,{}),e.jsx(Ji,{})]})}),e.jsx("div",{className:"parish-card",children:k?e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("div",{className:"admin-form-full mass-node-intro",children:[e.jsx("strong",{children:(E==null?void 0:E.label)??k.type}),e.jsx("p",{className:"note",children:(E==null?void 0:E.description)??"Konfiguracja wezla."}),e.jsxs("p",{className:"muted",children:["Wejscie: ",(E==null?void 0:E.input)??"dane dnia"," | Wyjscie:"," ",(E==null?void 0:E.output)??"next"]})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Node ID"}),e.jsx("input",{type:"text",value:k.id,readOnly:!0})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Typ"}),e.jsx("select",{value:k.type,onChange:s=>{const a=s.target.value,i=Ue[a];Oi(k.id,a),i&&Object.entries(i.config).forEach(([n,r])=>{Hs(k.id,n,r)})},children:Js.map(s=>e.jsx("option",{value:s.type,children:s.label},s.type))})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Next"}),e.jsxs("select",{value:k.nextId??"",onChange:s=>es(k.id,"next",s.target.value||null),children:[e.jsx("option",{value:"",children:"-- brak --"}),q.filter(s=>s.id!==k.id).map(s=>e.jsx("option",{value:s.id,children:s.id},s.id))]})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Else"}),e.jsxs("select",{value:k.elseId??"",onChange:s=>es(k.id,"else",s.target.value||null),children:[e.jsx("option",{value:"",children:"-- brak --"}),q.filter(s=>s.id!==k.id).map(s=>e.jsx("option",{value:s.id,children:s.id},s.id))]})]}),vi.map(s=>{var a;return e.jsxs("label",{children:[e.jsx("span",{children:s.label}),e.jsx("input",{type:"text",value:((a=k.config)==null?void 0:a[s.key])??"",placeholder:s.placeholder,onChange:i=>Hs(k.id,s.key,i.target.value)}),s.hint?e.jsx("span",{className:"muted",children:s.hint}):null]},s.key)}),e.jsxs("div",{className:"builder-actions admin-form-full",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:Pi,children:"Duplikuj node"}),e.jsx("button",{type:"button",className:"parish-back",onClick:Ii,children:"UsuÅ„ node"})]})]}):e.jsx("p",{className:"muted",children:"Wybierz node w grafie, aby edytowaÄ‡ szczegÃ³Å‚y."})}),e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("label",{children:[e.jsx("span",{children:"Od"}),e.jsx("input",{type:"date",value:we,onChange:s=>ii(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Do"}),e.jsx("input",{type:"date",value:be,onChange:s=>ni(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"PodmieÅ„ istniejÄ…ce"}),e.jsx("input",{type:"checkbox",checked:ba,onChange:s=>ti(s.target.checked)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"WybÃ³r reguÅ‚y"}),e.jsxs("select",{value:se??"",onChange:s=>{const a=s.target.value||null;if(!a){ye(null);return}const i=Ms.find(n=>n.id===a);i?Da(i):ye(a)},children:[e.jsx("option",{value:"",children:"--"}),Ms.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"builder-actions",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:Bi,children:"Zapisz reguÅ‚Ä™"}),e.jsx("button",{type:"button",className:"parish-back",onClick:Fi,children:"Symuluj"}),e.jsx("button",{type:"button",className:"parish-login",onClick:Zi,children:"Zastosuj reguÅ‚Ä™"})]}),Ke.length>0&&e.jsx("ul",{className:"status-list mass-rule-preview-list",children:Ke.slice(0,8).map(s=>e.jsxs("li",{className:Fs.has(new Date(s.massDateTime).toISOString())?"is-conflict":void 0,children:[e.jsxs("strong",{children:[e.jsx("span",{className:"mass-preview-time",children:new Date(s.massDateTime).toLocaleString([],{dateStyle:"short",timeStyle:"short"})}),Fs.has(new Date(s.massDateTime).toISOString())?e.jsx("span",{className:"mass-preview-conflict",children:"âš  kolizja"}):null]}),e.jsx("span",{className:"mass-preview-title",children:s.title}),e.jsx("span",{className:"mass-preview-intention",children:(s.intentionsJson??"").slice(0,80)||"Brak intencji"})]},s.id))})]}),Ls&&e.jsx("p",{className:"builder-error",children:Ls}),Rs&&e.jsx("p",{className:"muted",children:Rs})]}),e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Msze i naboÅ¼eÅ„stwa"}),e.jsx("h2",{children:"StaÅ‚y rytm tygodnia"})]}),e.jsx("span",{className:"muted",children:"TydzieÅ„ 11â€“17 marca 2025"})]}),e.jsx("div",{className:"tabs",children:["Sunday","Weekdays","Devotions","Confession"].map(s=>e.jsxs("button",{type:"button",className:aa===s?"is-active":void 0,onClick:()=>un(s),children:[s==="Sunday"&&"Niedziele",s==="Weekdays"&&"Dni powszednie",s==="Devotions"&&"NaboÅ¼eÅ„stwa",s==="Confession"&&"SpowiedÅº"]},s))}),ds.length>0&&e.jsxs("div",{className:"parish-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"NajbliÅ¼sze Msze"}),e.jsx("span",{className:"muted",children:"Publiczne ogÅ‚oszenia"})]}),e.jsx("ul",{className:"status-list",children:ds.slice(0,6).map(s=>e.jsxs("li",{children:[e.jsx("strong",{children:new Date(s.massDateTime).toLocaleString([],{dateStyle:"short",timeStyle:"short"})}),e.jsx("span",{children:s.title})]},s.id))})]}),e.jsx("div",{className:"parish-card",children:e.jsxs("table",{className:"schedule-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Godzina"}),e.jsx("th",{children:"Miejsce"}),e.jsx("th",{children:"Uwagi"})]})}),e.jsx("tbody",{children:ct[aa].map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.time}),e.jsx("td",{children:s.place}),e.jsx("td",{children:s.note})]},`${aa}-${s.time}`))})]})}),e.jsxs("div",{className:"parish-card exceptions",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"WyjÄ…tki i zmiany"}),e.jsx("span",{className:"muted",children:"NadpisujÄ… plan tygodniowy"})]}),e.jsx("ul",{children:dt.map(s=>e.jsxs("li",{children:[e.jsx("strong",{children:s.date}),e.jsx("span",{children:s.detail})]},s.date))})]})]}),d==="intentions"&&e.jsxs("section",{className:"parish-section intentions-page",children:[h&&e.jsxs("div",{className:"parish-card admin-form",children:[e.jsx("div",{className:"section-header",children:e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Panel admina"}),e.jsx("h3",{children:"ZarzÄ…dzanie mszami i intencjami"})]})}),e.jsxs("div",{className:"tabs small",children:[e.jsx("button",{type:"button",className:Re==="single"?"is-active":void 0,onClick:()=>Cs("single"),children:"Pojedyncza msza"}),e.jsx("button",{type:"button",className:Re==="serial"?"is-active":void 0,onClick:()=>Cs("serial"),children:"Dodawanie seryjne (node)"})]}),Re==="single"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("label",{children:[e.jsx("span",{children:"DzieÅ„"}),e.jsx("input",{type:"date",value:ee,onChange:s=>{us(s.target.value),Ee(null)}})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Godzina"}),e.jsx("input",{type:"time",value:ms,onChange:s=>Ie(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"KoÅ›ciÃ³Å‚"}),e.jsx("input",{type:"text",value:js,onChange:s=>xs(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Rodzaj"}),e.jsx("input",{type:"text",value:ua,onChange:s=>bs(s.target.value),placeholder:"np. ferialna, Å›wiÄ…teczna"})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Czas trwania (min)"}),e.jsx("input",{type:"number",min:1,value:zs,onChange:s=>Ns(s.target.value)})]}),e.jsxs("label",{className:"admin-form-full",children:[e.jsx("span",{children:"Nazwa"}),e.jsx("input",{type:"text",value:ys,onChange:s=>gs(s.target.value)})]}),e.jsxs("label",{className:"admin-form-full",children:[e.jsx("span",{children:"Uwagi"}),e.jsx("input",{type:"text",value:pa,onChange:s=>ws(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"NaboÅ¼eÅ„stwo przed"}),e.jsx("input",{type:"text",value:ma,onChange:s=>fs(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"NaboÅ¼eÅ„stwo po"}),e.jsx("input",{type:"text",value:ja,onChange:s=>vs(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Suma ofiar"}),e.jsx("input",{type:"text",value:xa,onChange:s=>ks(s.target.value),placeholder:"np. 150 PLN"})]}),e.jsxs("label",{className:"admin-form-full",children:[e.jsx("span",{children:"Intencje (linia: tekst | ofiara)"}),e.jsx("textarea",{value:ya,onChange:s=>qe(s.target.value),rows:4})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Msza zbiorowa"}),e.jsx("input",{type:"checkbox",checked:ga,onChange:s=>Ss(s.target.checked)})]})]}),e.jsxs("div",{className:"parish-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Msze dnia"}),e.jsx("span",{className:"muted",children:ee||"-"})]}),e.jsx("ul",{className:"status-list",children:Zs.length===0?e.jsx("li",{children:e.jsx("span",{className:"muted",children:"Brak mszy w tym dniu."})}):Zs.map(s=>e.jsx("li",{children:e.jsxs("button",{type:"button",className:"ghost",onClick:()=>Mi(s),children:[new Date(s.massDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," â€¢ ",s.title]})},s.id))})]}),e.jsxs("div",{className:"builder-actions",children:[e.jsx("button",{type:"button",className:"parish-login",onClick:Ci,children:$e?"Zapisz zmiany mszy":"Dodaj mszÄ™"}),$e&&e.jsx("button",{type:"button",className:"parish-back",onClick:()=>{Ee(null),Ie("18:00")},children:"Anuluj edycjÄ™"})]})]}):e.jsxs("div",{className:"mass-rule-builder",children:[e.jsxs("div",{className:"parish-card mass-rule-guide",children:[e.jsx("h4",{children:"Jak budowac graf mszy"}),e.jsxs("ul",{children:[e.jsx("li",{children:"1. Dodaj warunki (np. dzien tygodnia, sezon, swieto), aby wybrac dni."}),e.jsx("li",{children:"2. Dodaj `Szablon mszy`, aby ustawic godzine, miejsce, rodzaj i informacje."}),e.jsx("li",{children:"3. Dodaj `Dodaj intencje` (mozna wiele razy), aby uzupelnic intencje i ofiary."}),e.jsx("li",{children:"4. Dodaj `Zapisz msze`, aby utworzyc wpis dla dnia."}),e.jsx("li",{children:"5. Zakoncz sciezke `Stop` i podlacz `next/else` bez rozlaczonych wezlow."})]})]}),e.jsxs("div",{className:"parish-card mass-rule-legend",children:[e.jsxs("span",{children:[e.jsx("i",{style:{background:"#2563EB"}})," Warunki / filtry dat"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#F59E0B"}})," Msza / slot / godzina"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#7C3AED"}})," Intencje / ofiara"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#16A34A"}})," Zapis do bazy"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#6B7280"}})," Stop"]}),e.jsxs("span",{children:[e.jsx("i",{style:{background:"#DC2626"}})," BÅ‚Ä…d / konflikt"]})]}),e.jsxs("div",{className:"builder-actions",children:[e.jsxs("label",{className:"mass-require-intentions",children:[e.jsx("input",{type:"checkbox",checked:Te,onChange:s=>li(s.target.checked)}),e.jsx("span",{children:"Wymagaj intencji w grafie"})]}),e.jsx("button",{type:"button",className:"parish-back",onClick:$i,children:"Nowa reguÅ‚a"}),e.jsx("button",{type:"button",className:"parish-back",onClick:Ai,children:"UÅ‚Ã³Å¼ graf lewo->prawo"}),e.jsx("button",{type:"button",className:"parish-back",onClick:Ri,children:"SprawdÅº graf"})]}),e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("label",{children:[e.jsx("span",{children:"Szukaj node"}),e.jsx("input",{type:"text",value:Ws,onChange:s=>ri(s.target.value),placeholder:"np. msza, intencja, sezon"})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Kategoria"}),e.jsxs("select",{value:Xe,onChange:s=>oi(s.target.value),children:[e.jsx("option",{value:"all",children:"Wszystkie"}),e.jsx("option",{value:"filter",children:"Warunki"}),e.jsx("option",{value:"mass",children:"Msza"}),e.jsx("option",{value:"intention",children:"Intencje"}),e.jsx("option",{value:"save",children:"Zapis"}),e.jsx("option",{value:"stop",children:"Stop"})]})]})]}),ze.length>0&&e.jsxs("div",{className:"parish-card mass-rule-conflicts",children:[e.jsx("strong",{children:"âš  Konflikty terminÃ³w"}),e.jsx("ul",{children:ze.map(s=>e.jsx("li",{children:s},s))})]}),Ts.length>0&&e.jsxs("div",{className:"parish-card mass-rule-validation",children:[e.jsx("strong",{children:"Wynik walidacji"}),e.jsx("ul",{children:Ts.map((s,a)=>e.jsxs("li",{className:s.level==="error"?"is-error":"is-warning",children:[s.level==="error"?"â›”":"âš "," ",s.message]},`${s.level}-${a}`))})]}),e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("label",{children:[e.jsx("span",{children:"Nazwa reguÅ‚y"}),e.jsx("input",{type:"text",value:Ps,onChange:s=>Is(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Node startowy"}),e.jsx("input",{type:"text",value:he,onChange:s=>We(s.target.value)})]}),e.jsxs("label",{className:"admin-form-full",children:[e.jsx("span",{children:"Opis"}),e.jsx("input",{type:"text",value:wa,onChange:s=>$s(s.target.value)})]})]}),e.jsx("div",{className:"layout-palette",children:ki.map(s=>e.jsx("button",{type:"button",className:"module-pill",onClick:()=>Di(s.type),children:s.label},s.type))}),e.jsx("div",{className:"mass-rule-graph-shell",children:e.jsxs(Gi,{nodes:Bs,edges:Si,nodeTypes:nn,onNodesChange:Wi,onNodeDragStop:Ti,onEdgesChange:Ki,onConnect:Li,onNodeClick:(s,a)=>pe(a.id),fitView:!0,connectionLineStyle:{stroke:"#7a6b58",strokeWidth:2},children:[e.jsx(Vi,{}),e.jsx(Ji,{})]})}),e.jsx("div",{className:"parish-card",children:k?e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("div",{className:"admin-form-full mass-node-intro",children:[e.jsx("strong",{children:(E==null?void 0:E.label)??k.type}),e.jsx("p",{className:"note",children:(E==null?void 0:E.description)??"Konfiguracja wezla."}),e.jsxs("p",{className:"muted",children:["Wejscie: ",(E==null?void 0:E.input)??"dane dnia"," | Wyjscie:"," ",(E==null?void 0:E.output)??"next"]})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Node ID"}),e.jsx("input",{type:"text",value:k.id,readOnly:!0})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Typ"}),e.jsx("select",{value:k.type,onChange:s=>{const a=s.target.value,i=Ue[a];Oi(k.id,a),i&&Object.entries(i.config).forEach(([n,r])=>{Hs(k.id,n,r)})},children:Js.map(s=>e.jsx("option",{value:s.type,children:s.label},s.type))})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Next"}),e.jsxs("select",{value:k.nextId??"",onChange:s=>es(k.id,"next",s.target.value||null),children:[e.jsx("option",{value:"",children:"-- brak --"}),q.filter(s=>s.id!==k.id).map(s=>e.jsx("option",{value:s.id,children:s.id},s.id))]})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Else"}),e.jsxs("select",{value:k.elseId??"",onChange:s=>es(k.id,"else",s.target.value||null),children:[e.jsx("option",{value:"",children:"-- brak --"}),q.filter(s=>s.id!==k.id).map(s=>e.jsx("option",{value:s.id,children:s.id},s.id))]})]}),vi.map(s=>{var a;return e.jsxs("label",{children:[e.jsx("span",{children:s.label}),e.jsx("input",{type:"text",value:((a=k.config)==null?void 0:a[s.key])??"",placeholder:s.placeholder,onChange:i=>Hs(k.id,s.key,i.target.value)}),s.hint?e.jsx("span",{className:"muted",children:s.hint}):null]},s.key)}),e.jsxs("div",{className:"builder-actions admin-form-full",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:Pi,children:"Duplikuj node"}),e.jsx("button",{type:"button",className:"parish-back",onClick:Ii,children:"UsuÅ„ node"})]})]}):e.jsx("p",{className:"muted",children:"Wybierz node w grafie, aby edytowaÄ‡ szczegÃ³Å‚y."})}),e.jsxs("div",{className:"admin-form-grid",children:[e.jsxs("label",{children:[e.jsx("span",{children:"Od"}),e.jsx("input",{type:"date",value:we,onChange:s=>ii(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"Do"}),e.jsx("input",{type:"date",value:be,onChange:s=>ni(s.target.value)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"PodmieÅ„ istniejÄ…ce"}),e.jsx("input",{type:"checkbox",checked:ba,onChange:s=>ti(s.target.checked)})]}),e.jsxs("label",{children:[e.jsx("span",{children:"WybÃ³r reguÅ‚y"}),e.jsxs("select",{value:se??"",onChange:s=>{const a=s.target.value||null;if(!a){ye(null);return}const i=Ms.find(n=>n.id===a);i?Da(i):ye(a)},children:[e.jsx("option",{value:"",children:"--"}),Ms.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})]}),e.jsxs("div",{className:"builder-actions",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:Bi,children:"Zapisz reguÅ‚Ä™"}),e.jsx("button",{type:"button",className:"parish-back",onClick:Fi,children:"Symuluj"}),e.jsx("button",{type:"button",className:"parish-login",onClick:Zi,children:"Zastosuj reguÅ‚Ä™"})]}),Ke.length>0&&e.jsx("ul",{className:"status-list mass-rule-preview-list",children:Ke.slice(0,8).map(s=>e.jsxs("li",{className:Fs.has(new Date(s.massDateTime).toISOString())?"is-conflict":void 0,children:[e.jsxs("strong",{children:[e.jsx("span",{className:"mass-preview-time",children:new Date(s.massDateTime).toLocaleString([],{dateStyle:"short",timeStyle:"short"})}),Fs.has(new Date(s.massDateTime).toISOString())?e.jsx("span",{className:"mass-preview-conflict",children:"âš  kolizja"}):null]}),e.jsx("span",{className:"mass-preview-title",children:s.title}),e.jsx("span",{className:"mass-preview-intention",children:(s.intentionsJson??"").slice(0,80)||"Brak intencji"})]},s.id))})]}),Ls&&e.jsx("p",{className:"builder-error",children:Ls}),Rs&&e.jsx("p",{className:"muted",children:Rs})]}),e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Intencje"}),e.jsx("h2",{children:"Lista intencji na tydzieÅ„"})]}),e.jsxs("div",{className:"intentions-controls",children:[e.jsx("button",{type:"button",className:"ghost",children:"Dzisiaj"}),e.jsx("button",{type:"button",className:"ghost",children:"Ta niedziela"}),e.jsx("button",{type:"button",className:"ghost",children:"Drukuj"})]})]}),e.jsxs("div",{className:"intentions-layout",children:[e.jsxs("div",{className:"parish-card",children:[e.jsxs("div",{className:"intentions-search",children:[e.jsx("input",{type:"text",placeholder:"Szukaj intencji (mock)"}),e.jsx("span",{children:"TydzieÅ„ 11â€“17 marca 2025"})]}),da.length>0&&e.jsx("div",{className:"intentions-public",children:da.slice(0,8).map(s=>e.jsxs("div",{className:"intent-row",children:[e.jsx("span",{children:new Date(s.massDateTime).toLocaleString()}),e.jsxs("div",{children:[e.jsx("p",{children:s.publicText}),e.jsx("span",{className:"muted",children:s.churchName})]})]},s.id))}),e.jsx("div",{className:"accordion",children:ot.map(s=>e.jsxs("details",{open:!0,children:[e.jsx("summary",{children:s.day}),e.jsx("div",{className:"accordion-body",children:s.items.map(a=>e.jsxs("div",{className:"intent-row",children:[e.jsx("span",{children:a.time}),e.jsxs("div",{children:[e.jsx("p",{children:a.text}),e.jsxs("span",{className:"muted",children:[a.location," â€¢ ",a.priest]})]}),e.jsx("span",{className:"chip",children:a.priest})]},`${s.day}-${a.time}`))})]},s.day))})]}),e.jsxs("aside",{className:"parish-card",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Moje intencje"}),e.jsx("span",{className:"muted",children:"Statusy"})]}),e.jsxs("ul",{className:"status-list",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"14 marca, 7:00"}),e.jsx("span",{children:"W toku"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"17 marca, 18:00"}),e.jsx("span",{children:"Potwierdzona"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"21 marca, 7:00"}),e.jsx("span",{children:"Weryfikacja"})]})]}),e.jsx("button",{type:"button",className:"cta ghost",children:"ZgÅ‚oÅ› intencjÄ™"})]})]})]}),d==="announcements"&&e.jsxs("section",{className:"parish-section announcements-page",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"OgÅ‚oszenia"}),e.jsx("h2",{children:"AktualnoÅ›ci parafialne"})]}),e.jsxs("div",{className:"intentions-controls",children:[e.jsx("button",{type:"button",className:"ghost",children:"Drukuj"}),e.jsx("button",{type:"button",className:"ghost",children:"UdostÄ™pnij"})]})]}),e.jsxs("div",{className:"announcement-layout",children:[e.jsx("div",{className:"parish-card announcement-list",children:Xs.map(s=>e.jsxs("button",{type:"button",className:s.id===ia?"is-active":void 0,onClick:()=>mn(s.id),children:[e.jsx("span",{children:s.date}),e.jsx("strong",{children:s.title}),e.jsx("p",{className:"note",children:s.excerpt})]},s.id))}),e.jsxs("article",{className:"parish-card announcement-detail",children:[e.jsx("p",{className:"date",children:Pa.date}),e.jsx("h3",{children:Pa.title}),e.jsx("p",{className:"lead",children:Pa.content}),e.jsxs("div",{className:"print-row",children:[e.jsx("button",{type:"button",className:"ghost",children:"Drukuj"}),e.jsx("button",{type:"button",className:"ghost",children:"UdostÄ™pnij"})]})]}),e.jsxs("aside",{className:"parish-card archive",children:[e.jsx("h3",{children:"Archiwum"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Marzec 2025"}),e.jsx("li",{children:"Luty 2025"}),e.jsx("li",{children:"StyczeÅ„ 2025"}),e.jsx("li",{children:"GrudzieÅ„ 2024"})]})]})]})]}),d==="calendar"&&e.jsxs("section",{className:"parish-section calendar-page",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Kalendarz"}),e.jsx("h2",{children:"Wydarzenia i spotkania"})]}),e.jsxs("div",{className:"calendar-controls",children:[e.jsxs("div",{className:"tabs small",children:[e.jsx("button",{type:"button",className:na==="month"?"is-active":void 0,onClick:()=>Ua("month"),children:"MiesiÄ…c"}),e.jsx("button",{type:"button",className:na==="agenda"?"is-active":void 0,onClick:()=>Ua("agenda"),children:"Agenda"})]}),e.jsxs("select",{className:"parish-select",children:[e.jsx("option",{children:"Wszystkie kategorie"}),e.jsx("option",{children:"Liturgia"}),e.jsx("option",{children:"Muzyka"}),e.jsx("option",{children:"Formacja"})]}),e.jsxs("select",{className:"parish-select",children:[e.jsx("option",{children:"Wszystkie miejsca"}),e.jsx("option",{children:"KoÅ›ciÃ³Å‚ gÅ‚Ã³wny"}),e.jsx("option",{children:"Sala Jana PawÅ‚a II"}),e.jsx("option",{children:"Kaplica"})]})]})]}),e.jsxs("div",{className:"calendar-layout",children:[e.jsx("div",{className:"parish-card calendar-main",children:na==="month"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"calendar-grid",children:Array.from({length:30}).map((s,a)=>e.jsxs("div",{className:"calendar-day",children:[e.jsx("span",{children:a+1}),a%6===0&&e.jsx("em",{children:"Spotkanie"})]},`day-${a+1}`))}),e.jsxs("div",{className:"empty-state",children:[e.jsx("strong",{children:"Brak wydarzeÅ„ w tym filtrze"}),e.jsx("p",{children:"Wybierz innÄ… kategoriÄ™ lub lokalizacjÄ™."})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"agenda-list",children:as.map(s=>e.jsxs("li",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:s.title}),e.jsx("span",{children:s.date})]}),e.jsx("button",{type:"button",className:"ghost",onClick:()=>Ga(s.id),children:"SzczegÃ³Å‚y"})]},s.id))}),e.jsxs("div",{className:"empty-state",children:[e.jsx("strong",{children:"Brak wydarzeÅ„ w tym filtrze"}),e.jsx("p",{children:"Wybierz innÄ… kategoriÄ™ lub lokalizacjÄ™."})]})]})}),e.jsxs("aside",{className:"parish-card calendar-drawer",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"SzczegÃ³Å‚y wydarzenia"}),e.jsx("button",{type:"button",className:"ghost",onClick:()=>Ga(as[0].id),children:"Reset"})]}),e.jsxs("p",{className:"date",children:[ue.date," â€¢ ",ue.time]}),e.jsx("h4",{children:ue.title}),e.jsx("p",{className:"note",children:ue.description}),e.jsxs("div",{className:"chip-row",children:[e.jsx("span",{className:"chip",children:ue.category}),e.jsx("span",{className:"chip",children:ue.place})]}),e.jsxs("p",{className:"muted",children:["Prowadzi: ",ue.priest]}),ue.recurring&&e.jsx("span",{className:"pill",children:"Wydarzenie cykliczne"}),e.jsxs("div",{className:"exception-callout",children:[e.jsx("strong",{children:"WyjÄ…tki"}),e.jsx("p",{children:"Wielki PiÄ…tek: wydarzenie odwoÅ‚ane."})]})]})]})]}),d==="clergy"&&e.jsxs("section",{className:"parish-section clergy-page",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"DuchowieÅ„stwo"}),e.jsx("h2",{children:"KsiÄ™Å¼a posÅ‚ugujÄ…cy w parafii"})]}),e.jsx("span",{className:"muted",children:"Publiczne godziny kontaktu"})]}),e.jsxs("div",{className:"clergy-layout",children:[e.jsx("div",{className:"clergy-grid",children:Ys.map(s=>e.jsxs("button",{type:"button",className:`clergy-card ${s.id===ta?"is-active":""}`,onClick:()=>jn(s.id),children:[e.jsx("img",{src:s.img,alt:s.name}),e.jsxs("div",{children:[e.jsx("strong",{children:s.name}),e.jsx("span",{children:s.role})]})]},s.id))}),e.jsxs("article",{className:"parish-card clergy-profile",children:[e.jsxs("div",{className:"profile-header",children:[e.jsx("img",{src:Ae.img,alt:Ae.name}),e.jsxs("div",{children:[e.jsx("h3",{children:Ae.name}),e.jsx("p",{className:"note",children:Ae.role}),e.jsxs("span",{className:"pill",children:["Kontakt: ",Ae.contact]})]})]}),e.jsx("p",{children:Ae.bio}),e.jsxs("div",{className:"schedule-snippet",children:[e.jsx("h4",{children:"NajbliÅ¼sze 7 dni"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Pt., 15 marca â€” Msza 18:00"}),e.jsx("li",{children:"Sb., 16 marca â€” SpowiedÅº 17:00"}),e.jsx("li",{children:"Nd., 17 marca â€” Suma 11:00"})]})]})]})]})]}),(d==="community-bible"||d==="community-formation")&&te&&e.jsxs("section",{className:"parish-section community-page",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"WspÃ³lnoty"}),e.jsx("h2",{children:te.title})]}),e.jsx("button",{type:"button",className:"ghost",children:"DoÅ‚Ä…cz do wspÃ³lnoty"})]}),e.jsxs("div",{className:"community-hero",children:[e.jsx("img",{src:te.image,alt:te.title}),e.jsxs("div",{className:"parish-card",children:[e.jsx("p",{className:"lead",children:te.lead}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{children:[e.jsx("span",{className:"label",children:"Spotkania"}),e.jsx("strong",{children:te.cadence})]}),e.jsxs("div",{children:[e.jsx("span",{className:"label",children:"Miejsce"}),e.jsx("strong",{children:te.location})]}),e.jsxs("div",{children:[e.jsx("span",{className:"label",children:"ProwadzÄ…cy"}),e.jsx("strong",{children:te.leader})]})]}),e.jsx("div",{className:"chip-row",children:te.roles.map(s=>e.jsx("span",{className:"chip",children:s},s))})]})]}),e.jsxs("div",{className:"parish-card",children:[e.jsx("h3",{children:"Plan spotkania"}),e.jsx("ul",{className:"plan-list",children:te.plan.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{className:"parish-card",children:[e.jsx("h3",{children:"AktualnoÅ›ci wspÃ³lnoty"}),e.jsx("p",{className:"note",children:"NajbliÅ¼sze spotkanie: 19 marca, 19:00. Temat: Ewangelia wg Å›w. Marka."})]})]}),d==="koleda"&&e.jsxs("section",{className:"parish-section koleda-page",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"KolÄ™da"}),e.jsx("h2",{children:"Plan wizyt duszpasterskich"})]}),e.jsx("span",{className:"pill",children:"Aktualizacja: 5 stycznia"})]}),e.jsxs("div",{className:"notice",children:[e.jsx("strong",{children:"Zmiany i aktualizacje"}),e.jsx("p",{children:"Z powodu choroby ks. PawÅ‚a, plan na 10 stycznia zostaÅ‚ przesuniÄ™ty na 12 stycznia. SzczegÃ³Å‚y w tabeli."})]}),e.jsxs("div",{className:"koleda-layout",children:[e.jsxs("div",{className:"parish-card",children:[e.jsx("h3",{children:"Plan wg dat"}),e.jsx("ul",{className:"koleda-list",children:mt.map(s=>e.jsxs("li",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:s.date}),e.jsx("span",{children:s.window})]}),e.jsxs("div",{children:[e.jsx("span",{children:s.area}),e.jsx("span",{className:"chip",children:s.priest})]})]},s.date))})]}),e.jsxs("div",{className:"parish-card",children:[e.jsx("h3",{children:"Plan wg ulic i rejonÃ³w"}),e.jsx("ul",{className:"koleda-list",children:jt.map(s=>e.jsxs("li",{children:[e.jsxs("div",{children:[e.jsx("strong",{children:s.area}),e.jsx("span",{children:s.streets})]}),e.jsxs("div",{children:[e.jsx("span",{children:s.date}),e.jsx("span",{className:"chip",children:s.priest})]})]},s.area))})]}),e.jsxs("aside",{className:"parish-card my-area",children:[e.jsx("h3",{children:"Moja okolica"}),e.jsx("p",{className:"note",children:"Os. Zielone 12â€“24 â€” 7 stycznia"}),e.jsx("button",{type:"button",className:"cta ghost",children:"Zobacz trasÄ™"})]})]})]}),d.startsWith("sacrament-")&&e.jsxs("section",{className:"parish-section sacrament-page",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Sakramenty"}),e.jsx("h2",{children:Be.title}),e.jsx("p",{className:"lead",children:pt[Be.id]})]}),e.jsx("button",{type:"button",className:"ghost",children:"Pobierz checklistÄ™"})]}),e.jsxs("div",{className:"sacrament-hero",children:[e.jsx("img",{src:Be.img,alt:Be.title}),e.jsxs("div",{className:"parish-card",children:[e.jsx("h3",{children:"Kontakt w sprawie sakramentu"}),e.jsx("p",{className:"note",children:"Kancelaria: Pon.â€“Pt. 9:00â€“11:00, 16:00â€“18:00"}),e.jsx("button",{type:"button",className:"cta",children:"UmÃ³w spotkanie"})]})]}),e.jsx("div",{className:"parish-card sacrament-detail",children:e.jsxs("div",{className:"detail-columns",children:[e.jsxs("div",{children:[e.jsx("h4",{children:"Kroki"}),e.jsx("ol",{children:Be.steps.map(s=>e.jsx("li",{children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h4",{children:"Wymagane dokumenty"}),e.jsx("ul",{className:"download-list",children:Be.docs.map(s=>e.jsxs("li",{children:[e.jsx("span",{children:s}),e.jsx("button",{type:"button",className:"ghost",children:"Pobierz"})]},s))})]}),e.jsxs("div",{className:"contact-box",children:[e.jsx("h4",{children:"Przygotowanie"}),e.jsx("p",{className:"note",children:"PrzynieÅ› dokumenty i ustal terminy z wyprzedzeniem."}),e.jsxs("div",{className:"chip-row",children:[e.jsx("span",{className:"chip",children:"Dokumenty"}),e.jsx("span",{className:"chip",children:"Spotkanie"}),e.jsx("span",{className:"chip",children:"Liturgia"})]})]})]})})]}),d==="contact"&&e.jsxs("section",{className:"parish-section contact-page",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("p",{className:"tag",children:"Kontakt"}),e.jsx("h2",{children:"Adresy i godziny"})]}),e.jsx("span",{className:"muted",children:"Gotowe do wydruku"})]}),e.jsxs("div",{className:"contact-grid",children:[e.jsxs("div",{className:"parish-card address-card",children:[e.jsx("h3",{children:"Adres gÅ‚Ã³wny"}),e.jsx("p",{children:"ul. Dobrego Pasterza 117, 31-416 KrakÃ³w"}),e.jsx("div",{className:"map-placeholder",children:"Mapa"}),e.jsx("p",{className:"note",children:"WejÅ›cie gÅ‚Ã³wne, parking po prawej stronie."}),e.jsxs("div",{className:"address-meta",children:[e.jsx("span",{children:"Otwarte: 6:30â€“20:30"}),e.jsx("span",{children:"DostÄ™pnoÅ›Ä‡: podjazd"})]})]}),e.jsxs("div",{className:"parish-card address-card",children:[e.jsx("h3",{children:"Kancelaria parafialna"}),e.jsx("p",{children:"ul. Dobrego Pasterza 117, pokÃ³j 2"}),e.jsx("div",{className:"map-placeholder",children:"Mapa"}),e.jsx("p",{className:"note",children:"WejÅ›cie od strony plebanii, domofon."}),e.jsxs("div",{className:"address-meta",children:[e.jsx("span",{children:"Pon.â€“Pt. 9:00â€“11:00"}),e.jsx("span",{children:"Pon.â€“Pt. 16:00â€“18:00"})]})]}),e.jsxs("div",{className:"parish-card address-card",children:[e.jsx("h3",{children:"Kaplica adoracji"}),e.jsx("p",{children:"WejÅ›cie boczne, dziedziniec"}),e.jsx("div",{className:"map-placeholder",children:"Mapa"}),e.jsx("p",{className:"note",children:"DostÄ™pna codziennie, cisza."}),e.jsxs("div",{className:"address-meta",children:[e.jsx("span",{children:"8:00â€“19:00"}),e.jsx("span",{children:"Parking rowerowy"})]})]})]}),e.jsxs("div",{className:"emergency-card",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Telefon alarmowy"}),e.jsx("p",{className:"note",children:"Pogrzeb / namaszczenie chorych"})]}),e.jsx("button",{type:"button",className:"cta",children:"ZadzwoÅ„: +48 600 123 456"})]})]})]}),e.jsxs("footer",{className:"parish-footer",children:[e.jsxs("div",{className:"footer-grid",children:[e.jsxs("div",{className:"footer-card",children:[e.jsx("h4",{children:"Adres parafii"}),e.jsx("p",{children:"ul. Dobrego Pasterza 117, 31-416 KrakÃ³w"}),e.jsx("p",{className:"note",children:"Tel. +48 12 412 58 50 â€¢ parafia@janchrzciciel.eu"})]}),e.jsxs("div",{className:"footer-card",children:[e.jsx("h4",{children:"Godziny kancelarii"}),e.jsx("p",{children:"Pon.â€“Pt. 9:00â€“11:00"}),e.jsx("p",{children:"Pon.â€“Pt. 16:00â€“18:00"})]}),e.jsxs("div",{className:"footer-card",children:[e.jsx("h4",{children:"Telefon alarmowy"}),e.jsx("p",{className:"note",children:"Pogrzeb / chorzy"}),e.jsx("strong",{children:"+48 600 123 456"})]}),e.jsxs("div",{className:"footer-card",children:[e.jsx("h4",{children:"Polityki"}),e.jsx("button",{type:"button",className:"footer-link",children:t.footer.imprint}),e.jsx("button",{type:"button",className:"footer-link",children:t.footer.security}),e.jsx("label",{className:"language-label",htmlFor:"parish-language",children:"JÄ™zyk"}),e.jsxs("select",{id:"parish-language",className:"parish-select",value:b,onChange:s=>P(s.target.value),children:[e.jsx("option",{value:"pl",children:"Polski"}),e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"de",children:"Deutsch"})]})]})]}),e.jsx("div",{className:"parish-footer-brand",children:e.jsx("a",{className:"portal-brand",href:"/#/",children:e.jsx("img",{src:"/logo_new.svg",alt:"Recreatio",className:"parish-footer-logo"})})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"parish-header parish-header--chooser",children:[e.jsxs("div",{className:"parish-header-left",children:[e.jsx("button",{type:"button",className:"parish-back",onClick:S,children:"Back"}),e.jsx("a",{className:"parish-up",href:"/#/parish",children:"Up"})]}),e.jsx("div",{className:"parish-controls",children:e.jsx(_s,{copy:t,label:o,isAuthenticated:h,secureMode:x,onLogin:c,onProfileNavigate:N,onToggleSecureMode:g,onLogout:w,variant:"ghost"})})]}),e.jsx("main",{className:"parish-main",children:e.jsx("section",{className:"parish-section",children:e.jsx("article",{className:"parish-card",children:e.jsx("p",{className:"muted",children:"Nie znaleziono strony parafii."})})})})]})})}export{Kt as ParishPage};
